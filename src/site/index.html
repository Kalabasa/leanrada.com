<html>
  <page>
    <div class="home-page">
      <div class="home-content">
        <div class="home-circle">
          <div class="home-preview home-preview-active home-preview-0-enter">
            <nebula
              class="home-nebula"
              palette="#e79907 #bf1852 #4d4aff #0ad591"
            />
            <home-preview-text text="Welcome to my website!" />
            <img class="home-preview-icon" src="home/icons/tada.png" />
          </div>
          <div class="home-preview">
            <nebula class="home-nebula" palette="#e79907 #bf1852 #4d4aff" />
            <home-preview-text text="About my self" />
            <img class="home-preview-icon" src="home/icons/glasses.png" />
          </div>
          <div class="home-preview">
            <nebula class="home-nebula" palette="#e79907 #0ad591 #4d4aff" />
            <home-preview-text text="Beware my wares (the soft kind)" />
            <img class="home-preview-icon" src="home/icons/pot.png" />
          </div>
          <div class="home-preview">
            <nebula class="home-nebula" palette="#bf1852 #4d4aff #0ad591" />
            <home-preview-text
              text="Look at my generative art (100% NFT-free)"
            />
            <img class="home-preview-icon" src="home/icons/art.png" />
          </div>
          <div class="home-preview">
            <nebula class="home-nebula" palette="#bf1852 #e79907 #0ad591" />
            <home-preview-text text="Listen to my music" />
            <img class="home-preview-icon" src="home/icons/sound.png" />
          </div>
        </div>
        <span class="home-hello">hello!</span>
        <!-- <br />
        <a class="home-link home-color-1" href="/about/">
          <home-icon src="home/icons/glasses.png" />about
        </a>
        <br />
        <a class="home-link home-color-2" href="/wares/">
          <home-icon src="home/icons/pot.png" />wares
        </a>
        <br />
        <a class="home-link home-color-3" href="/genart/">
          <home-icon src="home/icons/art.png" />gen. art
        </a>
        <br />
        <a class="home-link home-color-4" href="/music/">
          <home-icon src="home/icons/sound.png" />music
        </a>
        <br /> -->
      </div>
    </div>
  </page>
</html>

<style>
  .home-page {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  .home-content {
    display: block;
    white-space: nowrap;
    height: 40vh;
  }

  .home-circle {
    position: relative;
    display: block;
    float: left;
    width: 40vh;
    height: 40vh;
    border-radius: 50%;
    shape-outside: circle(50%);
    overflow: hidden;
  }

  @media (max-aspect-ratio: 4/5) {
    .home-page {
      align-items: flex-start;
      padding-top: 5vh;
      height: auto;
    }
    .home-hello {
      display: block !important;
      clear: left;
      padding-top: 1em;
    }
  }

  /* Preview */

  .home-preview {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .home-preview:not(.home-preview-active) {
    display: none;
  }

  .home-preview-text {
    position: relative;
    width: 36vh;
    height: 36vh;
    font-size: 3vh;
    font-style: italic;
    color: #fff;
    animation: home-preview-text-animation 7s
      cubic-bezier(0.785, 0.135, 0.15, 0.86) infinite;
    z-index: 1;
  }
  .home-preview-icon {
    position: absolute;
    left: calc(50% - 2.5vh);
    top: calc(50% - 2.5vh);
    width: 5vh;
    height: 5vh;
    z-index: 2;
    image-rendering: pixelated;
    filter: invert(1);
    animation: home-preview-icon-animation 4s linear infinite;
  }
  .home-nebula {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  .home-preview-0-enter {
    animation: home-preview-start 2s cubic-bezier(0.785, 0.135, 0.15, 0.86);
  }

  @keyframes home-preview-start {
    0% {
      filter: saturate(0) brightness(255);
      clip-path: polygon(100% 49.8%, 100% 50.2%, 100% 50.2%, 100% 49.8%);
    }
    25% {
      clip-path: polygon(0% 49.8%, 0% 50.2%, 100% 50.2%, 100% 49.8%);
    }
    45% {
      filter: saturate(0.2) brightness(16);
    }
    50% {
      filter: saturate(1) brightness(1);
      clip-path: polygon(0% 49.8%, 0% 50.2%, 100% 50.2%, 100% 49.8%);
    }
    100% {
      clip-path: polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%);
    }
  }
  @keyframes home-preview-text-animation {
    to {
      transform: rotate(-1turn);
    }
  }
  @keyframes home-preview-icon-animation {
    to {
      transform: rotate(1turn);
    }
  }

  /* Menu */

  .home-hello {
    display: inline-block;
    margin-left: 1em;
    padding-bottom: 1.5vh;
    font-size: 3vh;
    font-style: italic;
    color: #fff;
    animation: home-hello-start 2s cubic-bezier(0.785, 0.135, 0.15, 0.86);
  }

  .home-link {
    display: inline-flex;
    align-items: center;
    gap: 0.25em;
    margin-left: 1em;
    padding-top: 0.6vh;
    padding-bottom: 0.6vh;
    font-size: 3vh;
    font-style: italic;
    text-decoration: none;
    color: #fff;
    overflow: hidden;
    transition: 0.1s cubic-bezier(0.075, 0.82, 0.165, 1);
    transition-property: margin, padding;
    animation: home-link-start 1s 1s backwards;
  }
  .home-link.home-link-active {
    padding-top: 3vh;
    padding-bottom: 3vh;
  }
  .home-link.home-color-1.home-link-active {
    color: #bf1852;
  }
  .home-link.home-color-2.home-link-active {
    color: #0ad591;
  }
  .home-link.home-color-3.home-link-active {
    color: #7774ff;
  }
  .home-link.home-color-4.home-link-active {
    color: #e79907;
  }

  @keyframes home-hello-start {
    0% {
      opacity: 0;
      margin-top: 18vh;
    }
    50% {
      opacity: 1;
      margin-top: 18vh;
    }
  }
  @keyframes home-link-start {
    0% {
      animation-timing-function: cubic-bezier(0.8, 0, 0.8, 1);
      opacity: 0;
    }
    50% {
      animation-timing-function: cubic-bezier(0.2, 0, 0.2, 1);
      opacity: 1;
    }
  }
</style>

<script client>
  document.addEventListener("DOMContentLoaded", () => {
    setTimeout(
      () => previews[0].classList.remove("home-preview-0-enter"),
      2000
    );

    let activePreview = 0;
    const links = document.querySelectorAll(".home-link");
    const previews = document.querySelectorAll(".home-preview");

    links.forEach((link, index) => {
      const previewNumber = index + 1;

      link.addEventListener("mouseover", () => {
        activatePreview(previewNumber);
      });

      link.addEventListener("mouseout", () => {
        if (activePreview !== previewNumber) return;
        activatePreview(0);
      });

      link.addEventListener("touchstart", (event) => {
        if (activePreview !== previewNumber) {
          event.preventDefault();
        }
        activatePreview(previewNumber);
      });
    });

    function activatePreview(previewNumber) {
      activePreview = previewNumber;

      document
        .querySelector(".home-preview-active")
        ?.classList.remove("home-preview-active");
      previews[previewNumber]?.classList.add("home-preview-active");

      document
        .querySelector(".home-link-active")
        ?.classList.remove("home-link-active");
      links[previewNumber - 1]?.classList.add("home-link-active");
    }
  });
</script>
