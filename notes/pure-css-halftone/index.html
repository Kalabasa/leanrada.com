<!DOCTYPE html>
<html lang="en">
<head>
  <title>Creating a halftone effect with CSS · leanrada.com</title>
  <script async="" src="/lib/vendor/perlin-noise-3d.min.js"></script>
  <link rel="preload" href="/fonts/space/SpaceMono-Italic.ttf" as="font" type="font/ttf" crossorigin="">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="webmention" href="https://webmention.io/leanrada.com/webmention">
  <link rel="alternate" type="application/rss+xml" title="leanrada.com notes" href="/rss.xml">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="only dark">
  <meta charset="utf-8">
  <script async="" src="https://leanrada.com/analytics/analytics.js"></script>
  <style>
  .reactions {
    display: grid;
    grid-template-rows: repeat(3, auto);
    grid-auto-flow: column;
    justify-content: center;
    justify-items: center;
    gap: 6px;
    border: solid 1px var(--card-clr);
    border-radius: 6px;
    padding: 18px;
    font-family: var(--default-font);
  }

  .reaction-title {
    grid-column: span 5;
    margin: 0 0 6px;
    font-size: 18px;
  }

  .reaction-title-error {
    color: var(--clr1);
  }

  .reaction-heart-btn,
  .reaction-heart-count {
    --reaction-color: #bf1852;
  }
  .reaction-fire-btn,
  .reaction-fire-count {
    --reaction-color: #c68306;
  }
  .reaction-bubble-btn,
  .reaction-bubble-count {
    --reaction-color: #07bd80;
  }
  .reaction-sun-btn,
  .reaction-sun-count {
    --reaction-color: #a09b00;
  }
  .reaction-cloud-btn,
  .reaction-cloud-count {
    --reaction-color: #8063ff;
  }

  .reaction-count {
    position: relative;
    font-size: 18px;
    width: 100%;
    height: 18px;
    text-align: center;
    overflow: hidden;
  }
  .reaction-count-prev,
  .reaction-count-next {
    position: relative;
    height: 100%;
    animation: reaction-tick 0.3s var(--ease) forwards;
  }

  @keyframes reaction-tick {
    from {
      top: 0;
    }
    to {
      top: -100%;
    }
  }

  .reaction-count.reaction-spark::after {
    position: absolute;
    content: "";
    width: 36px;
    height: 36px;
    left: calc(50% - 18px);
    top: calc(100% - 18px);
    border-radius: 50%;
    animation: reaction-spark 0.1s ease-out;
  }

  @keyframes reaction-spark {
    from {
      box-shadow: inset 0 0 0 18px var(--reaction-color);
    }
    to {
      box-shadow: inset 0 0 0 0px var(--reaction-color);
    }
  }

  .reaction-btn {
    background: none;
    border: none;
    border-radius: 6px;
    width: 32px;
    height: 32px;
    padding: 2px;
    box-sizing: content-box;
    cursor: pointer;
  }
  .reaction-btn:focus-visible,
  .reaction-btn:hover {
    background: var(--reaction-color);
  }
  .reaction-btn:focus-visible .reaction-icon,
  .reaction-btn:hover .reaction-icon {
    animation-duration: 0.5s;
  }
  .reaction-btn:active .reaction-icon {
    position: relative;
    top: 2px;
  }

  .reaction-icon {
    display: block;
    width: 100%;
    height: 100%;
    image-rendering: pixelated;
    background-image: url("/icons/reactions.png");
    background-size: 500% 200%;
    animation: reaction-icon 1.5s steps(2) infinite;
  }
  .reactions-invisible .reaction-icon {
    background-image: none;
  }
  .reaction-heart-btn .reaction-icon {
    --sheet-x: 25%;
  }
  .reaction-bubble-btn .reaction-icon {
    --sheet-x: 0%;
  }
  .reaction-sun-btn .reaction-icon {
    --sheet-x: 100%;
  }
  .reaction-cloud-btn .reaction-icon {
    --sheet-x: 75%;
  }
  .reaction-fire-btn .reaction-icon {
    --sheet-x: 50%;
  }

  @keyframes reaction-icon {
    0% {
      background-position: var(--sheet-x) 0%;
    }
    100% {
      background-position: var(--sheet-x) 200%;
    }
  }
</style>
  <style>
  .blog-media {
    position: relative;
    text-align: center;
    /* external margin because it’s expected to be in an article */
    margin: 36px 0;
  }
  .blog-media-bleed {
    margin: min(36px, 5vw, 90px) 0;
    max-height: 80vh;
  }

  .blog-media-element {
    display: inline-block;
    max-width: 100%;
    max-height: 80vh;
    border-radius: 18px;
    box-sizing: border-box;
  }
  .blog-media-bleed .blog-media-element {
    position: relative;
    left: 50%;
    max-width: max(min(100vw, 800px), 80vw);
    transform: translateX(-50%);
  }
  .blog-media-windowed .blog-media-element {
    display: block;
    width: 100%;
    border-radius: 0;
  }

  .blog-media-caption {
    display: block;
    font-size: 15px;
  }
</style>
  <style>
  .box-note {
    display: block;
    padding: 12px 18px;
    border-radius: 12px;
    border: solid 2px var(--clr0-dark);
    box-sizing: border-box;
  }
</style>
  <style>
  /**
   * Modified by Kalabasa.
   * Based on:
   * a11y-dark theme for JavaScript, CSS, and HTML
   * Based on the okaidia theme: https://github.com/PrismJS/prism/blob/gh-pages/hemes/prism-okaidia.css
   * @author ericwbailey
   */

  .code-block .token.inserted:not(.prefix) {
    background: #00b6a71c;
    display: block;
  }

  .code-block .token.comment,
  .code-block .token.prolog,
  .code-block .token.doctype,
  .code-block .token.cdata {
    color: #628b9e;
    font-style: italic;
  }

  .code-block .token.punctuation {
    color: #fefefe;
  }

  .code-block .token.property,
  .code-block .token.tag,
  .code-block .token.constant,
  .code-block .token.symbol,
  .code-block .token.deleted {
    color: #ffa07a;
  }

  .code-block .token.boolean,
  .code-block .token.number {
    color: #00e0e0;
  }

  .code-block .token.selector,
  .code-block .token.attr-name,
  .code-block .token.string,
  .code-block .token.char,
  .code-block .token.builtin,
  .code-block .token.inserted {
    color: #abe338;
  }

  .code-block .token.operator,
  .code-block .token.entity,
  .code-block .token.url,
  .code-block .token.variable {
    color: #00e0e0;
  }

  .code-block .token.atrule,
  .code-block .token.attr-value,
  .code-block .token.function {
    color: #ffd700;
  }

  .code-block .token.keyword {
    color: #00e0e0;
  }

  .code-block .token.regex,
  .code-block .token.important {
    color: #ffd700;
  }

  .code-block .token.important,
  .code-block .token.bold {
    font-weight: bold;
  }

  .code-block .token.italic {
    font-style: italic;
  }

  .code-block .token.entity {
    cursor: help;
  }

  @media screen and (-ms-high-contrast: active) {
    .code-block .token.important {
      background: highlight;
      color: window;
      font-weight: normal;
    }

    .code-block .token.atrule,
    .code-block .token.attr-value,
    .code-block .token.function,
    .code-block .token.keyword,
    .code-block .token.operator,
    .code-block .token.selector {
      font-weight: bold;
    }

    .code-block .token.attr-value,
    .code-block .token.comment,
    .code-block .token.doctype,
    .code-block .token.function,
    .code-block .token.keyword,
    .code-block .token.operator,
    .code-block .token.property,
    .code-block .token.string {
      color: highlight;
    }

    .code-block .token.attr-value,
    .code-block .token.url {
      font-weight: normal;
    }
  }
</style>
  <style>
  .code-block {
    margin: 0 -18px; /* bleed content padding */
    padding: 0 18px; /* bleed content padding */
    overflow-x: auto;
  }
  .code-block-code {
    display: inline-block;
    padding: 18px;
    min-width: 100%;
    box-sizing: border-box;
    border-radius: 18px;
    font-family: var(--default-font, monospace);
    font-size: 15px;
    line-height: 1.6;
    background: var(--card-clr);
    white-space: pre;
  }

  .code-block-wrap-char {
    word-break: break-all;
  }
  .code-block-wrap-char .code-block-code {
    white-space: pre-wrap;
  }

  .code-block-wrap-word {
    word-break: normal;
  }
  .code-block-wrap-word .code-block-code {
    white-space: pre-wrap;
  }
</style>
  <style>
  .halftone-demo-control-row {
    display: grid;
    grid-template-columns: 1fr 2fr;
    justify-items: start;
    align-items: center;
    font-weight: bold;
    padding: 6px 18px;
    line-height: 1.2;
  }

  .halftone-demo-box {
    --halftone-separate-k: 0;
    position: relative;
    overflow: hidden;
    border-radius: 18px;
    margin: 36px 0;
    filter: sepia(0.4);
  }
  .halftone-demo-box:has(+ .halftone-demo-control-row) {
    margin-bottom: 18px;
  }
  .halftone-demo-box.halftone-disabled {
    filter: none;
  }

  .halftone-separate-k {
    --halftone-separate-k: 1;
  }

  .halftone-demo,
  .halftone-demo-k-layer {
    --halftone-dot-size: calc(var(--halftone-size) * var(--halftone-bleed));
    --halftone-color-dot-size: var(--halftone-dot-size);
    position: relative;
    margin: -18px;
    filter: brightness(
        calc(
          0.5 + var(--halftone-bleed) * 0.3 - var(--halftone-separate-k) * 0.02
        )
      )
      blur(calc(var(--halftone-size) * 0.1)) contrast(1000) blur(0.6px);
    overflow: hidden;
    border: solid 54px #fff;
  }
  .halftone-grayscale .halftone-demo {
    --halftone-color-dot-size: 0;
  }
  .halftone-disabled .halftone-demo {
    filter: none;
  }
  .halftone-disabled .halftone-media {
    filter: none !important;
  }
  .halftone-disabled .halftone-demo-k-layer {
    display: none !important;
  }
  @media (max-width: 800px) {
    .halftone-demo,
    .halftone-demo-k-layer {
      border-width: 36px;
    }
  }

  .halftone-demo-k-layer {
    display: none;
    position: absolute;
    inset: 0;
    mix-blend-mode: multiply;
  }
  .halftone-separate-k .halftone-demo-k-layer {
    display: block;
  }

  .halftone-demo > .halftone-media,
  .halftone-demo-k-layer > .halftone-media {
    display: block;
    width: 100%;
  }
  .halftone-demo > .halftone-media {
    filter: brightness(1.5);
  }
  .halftone-grayscale .halftone-demo > .halftone-media {
    filter: grayscale(1);
  }
  .halftone-separate-k .halftone-demo > .halftone-media {
    /* main layer is hues only */
    filter: invert(1) brightness(0.75) invert(1) saturate(2);
  }
  .halftone-demo-k-layer > .halftone-media {
    /* K layer is greyscale only */
    filter: grayscale(1) brightness(2);
  }

  .halftone-disabled .halftone-demo-ink {
    visibility: hidden;
  }
  .halftone-demo-ink {
    mix-blend-mode: screen;
  }
  .halftone-demo-ink::before,
  .halftone-demo-ink::after {
    content: "";
    position: absolute;
    inset: -30%;
    background-size: var(--halftone-size) var(--halftone-size);
    background-blend-mode: multiply;
    mix-blend-mode: multiply;
  }
  .halftone-demo-ink::before {
    transform: rotate(30deg);
    background-image: radial-gradient(
        var(--halftone-dot-size) at 25% 75%,
        #000,
        #666,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 75% 25%,
        #000,
        #666,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 25% 25%,
        #ff0,
        #ff6,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 75% 75%,
        #ff0,
        #ff6,
        #fff
      );
  }
  .halftone-demo-ink::after {
    transform: rotate(calc(-21deg + var(--halftone-rotation)))
      translateX(calc(var(--halftone-size) * 0.58));
    background-image: radial-gradient(
        var(--halftone-color-dot-size) at 75% 25%,
        #f0f,
        #f6f,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 25% 75%,
        #f0f,
        #f6f,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 75% 75%,
        #0ff,
        #6ff,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 25% 25%,
        #0ff,
        #6ff,
        #fff
      );
    transition: transform 100ms;
  }

  .halftone-separate-k .halftone-demo-ink::before {
    background-image: radial-gradient(
        var(--halftone-color-dot-size) at 25% 25%,
        #ff0,
        #ff6,
        #fff
      ),
      radial-gradient(
        var(--halftone-color-dot-size) at 75% 75%,
        #ff0,
        #ff6,
        #fff
      );
  }
  .halftone-demo-k-layer::after {
    content: "";
    position: absolute;
    inset: -30%;
    background-size: var(--halftone-size) var(--halftone-size);
    background-blend-mode: multiply;
    mix-blend-mode: screen;
    transform: rotate(30deg);
    background-image: radial-gradient(
        var(--halftone-color-dot-size) at 25% 25%,
        #000,
        #666,
        #ccc,
        #fff
      ),
      radial-gradient(var(--halftone-color-dot-size) at 75% 75%, #000, #fff);
  }
</style>
  <style>
  .tag-row {
    font-family: var(--default-font);
    font-size: 12px;
    font-weight: bold;
  }
</style>
  <style>
  .blog-post-info {
    margin: 24px 0;
    font-family: var(--default-font);
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    color: var(--text2-clr);
  }
  .blog-post-info-hidden {
    display: none;
  }
</style>
  <style>
  .text-with-bg-span {
    display: inline;
    margin: 0;
    padding: 0.7em;
    padding: 0.35lh;
    border-radius: 18px;
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
    font: inherit;
    background: var(--text-with-bg-color);
  }
</style>
  <style>
  .blog-header {
    isolation: isolate;
    margin: 90px 0 24px;
    position: relative;
    left: 50%;
    height: 400px; /* .blog-header-title::before must match */
    width: max(800px, 60vw);
    transform: translateX(-50%);
    box-sizing: border-box;
  }
  @media (max-width: 600px) {
    .blog-header {
      margin-top: 60px;
    }
  }

  .blog-header-title {
    position: relative;
    max-width: 800px;
    font-family: var(--display-font);
    font-size: 36px;
    font-weight: bold;
    font-style: italic;
    text-align: left;
    z-index: 2;
  }
  .blog-header-title-inner {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
  /* Wrap lines in an angle */
  .blog-header-title::before {
    content: "";
    width: 0;
    width: calc(min(50%, 120vw - 600px));
    height: 400px;
    float: right;
    shape-outside: polygon(100% 0%, 20% 30%, 0% 100%, 100% 100%, 100% 0%);
  }

  .blog-header-hero {
    position: absolute;
    inset: 1px;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 18px;
    background: gray;
    z-index: -1;
  }

  .blog-header-decor {
    position: absolute;
    inset: 0;
    pointer-events: none;
    fill: var(--bg-clr);
    z-index: 1;
  }

  @media (max-width: 800px) {
    .blog-header {
      width: 100vw;
      width: 100svw;
      height: 400px;
      padding-right: 36px;
    }
    .blog-header-title {
      font-size: clamp(24px, 20px + 2vw, 36px);
    }
  }
</style>
  <style>
  @font-face {
    font-family: "Space Mono";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/space/SpaceMono-Regular.ttf") format("truetype");
  }

  @font-face {
    font-family: "Space Mono";
    font-display: swap;
    font-weight: normal;
    font-style: italic;
    src: url("/fonts/space/SpaceMono-Italic.ttf") format("truetype");
  }

  @font-face {
    font-family: "Iosevka";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/iosevka/iosevka-custom-regular.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka";
    font-display: swap;
    font-weight: normal;
    font-style: italic;
    src: url("/fonts/iosevka/iosevka-custom-italic.woff2") format("woff2");
  }

  @font-face {
    font-family: "Miriam Libre";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/miriam/MiriamLibre-Regular.ttf") format("truetype");
  }

  :root {
    --default-font: "Iosevka", "Space Mono", monaco, Consolas, "Lucida Console",
      monospace;
    --display-font: "Space Mono", "Iosevka", monaco, Consolas, "Lucida Console",
      monospace;
    --reading-font: "Miriam Libre", Futura, "Trebuchet MS", Arial, sans-serif;

    --bg-clr: #111616;
    --card-clr: #222c2c;
    --clr0-light: #54f8c1;
    --clr0: #0ad591;
    --clr0-dark: #05b97d;
    --clr1: #df2063;

    --text-clr: #fff;
    --text2-clr: #999;

    --ease: cubic-bezier(0.8, 0, 1, 1);
  }

  body {
    margin: 0;
    min-height: 100vh;
    font-family: var(--default-font, monospace);
    font-size: 15px;
    font-display: swap;
    font-variant-ligatures: none;
    background-color: var(--bg-clr, #111);
    color: var(--text-clr, #fff);
    overflow-x: hidden;
  }
  .page-wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  .page-wrapper-content {
    flex: 1 1 auto;
  }
</style>
  <style>
  nebula-client {
    position: relative;
  }
  nebula-client > canvas {
    width: 100%;
    height: 100%;
  }
  .nebula-noise {
    position: absolute;
    inset: 0;
    background: url("/noise.png"); /* todo: encapsulate noise.png */
    opacity: 0.1;
    animation: nebula-noise-x 0.16s steps(2, jump-start) infinite,
      nebula-noise-y 0.48s steps(3, jump-start) infinite;
  }
  @supports (mix-blend-mode: overlay) {
    .nebula-noise {
      mix-blend-mode: overlay;
      opacity: 0.2;
    }
  }
  @keyframes nebula-noise-x {
    to {
      background-position-x: 100px;
    }
  }
  @keyframes nebula-noise-y {
    to {
      background-position-y: 100px;
    }
  }
</style>
  <style>
  .main-footer-web-link {
    text-decoration: none;
  }

  .main-footer-web-link-icon {
    width: 32px;
    height: 32px;
    image-rendering: pixelated;
  }
  .main-footer-web-link-icon:hover {
    filter: invert(1);
  }
</style>
  <style>
  .main-footer {
    position: relative;
    display: flex;
    justify-content: space-between;
    gap: 60px;
    padding: 42px calc(max(36px, 50vw - 600px));
    font-family: var(--display-font);
    font-size: 15px;
    font-weight: bold;
    background: var(--clr0);
    color: #000;
    overflow: hidden;
    content-visibility: auto;
    contain-intrinsic-height: 200px;
  }

  .main-footer-links-heading {
    margin: 18px 0;
    font-size: inherit;
  }

  .main-footer-line {
    margin: 12px 0;
  }

  .main-footer-link {
    color: #000;
  }
  .main-footer-link:hover {
    color: #000;
  }

  .main-footer-webring-icon {
    width: 16px;
    height: 16px;
    image-rendering: pixelated;
  }

  .main-footer-signature {
    width: 64px;
    height: 64px;
    image-rendering: pixelated;
    vertical-align: top;
  }

  .main-footer-content-part {
    z-index: 1;
  }

  .main-footer-nebula {
    position: absolute;
    left: -30%;
    top: -30%;
    width: 160%;
    height: 160%;
    z-index: 0;
  }

  .main-footer-top-btn {
    display: block;
    z-index: 2;
    position: absolute;
    right: 0;
    top: 0;
    width: 72px;
    height: 36px;
    padding-right: 9px;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-bottom-left-radius: 18px;
    background: var(--bg-clr);
    text-decoration: none;
    color: var(--clr0-light);
    font: inherit;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
  }
  .main-footer-top-btn:hover {
    color: var(--clr1);
  }
  .main-footer-top-btn::before {
    content: "";
    position: absolute;
    right: 0;
    top: 0;
    width: 36px;
    height: 18px;
    border-top-right-radius: 18px;
    transform: translateX(-72px);
    box-shadow: 18px 0 0 var(--bg-clr);
  }

  @media (max-width: 700px) {
    .main-footer {
      flex-direction: column-reverse;
    }
  }
</style>
  <style>
  .main-header {
    position: sticky;
    top: 0;
    width: 100%;
    height: 60px;
    padding: 0 calc(25% - 150px);
    z-index: 100;
    box-sizing: border-box;
    pointer-events: none;
  }
  .main-header.float {
    position: fixed;
  }

  .main-header-bar {
    position: relative;
    display: flex;
    justify-content: space-evenly;
    align-items: flex-end;
    height: 100%;
  }

  .main-header-item {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 6ch;
    height: 36px;
    padding: 0 18px;
    padding: 0 calc(min(18px,  -18px + 8vw));
    border-radius: 18px;
    font-family: var(--display-font);
    font-size: 12px;
    font-weight: bold;
    letter-spacing: 1px;
    text-decoration: none;
    text-transform: uppercase;
    color: #fff;
    backdrop-filter: blur(8px);
    background-color: #2222;
    background-image: linear-gradient(60deg, #9994 60%, transparent 60%);
    background-repeat: no-repeat;
    background-size: 220% 100%;
    background-position: 117%;
    pointer-events: all;
    transition: background-color 0.2s var(--ease),
      background-position 0.2s var(--ease);
  }
  .main-header-item:hover {
    background-image: linear-gradient(
      60deg,
      #9994 50%,
      #fff 50%,
      #fff 60%,
      transparent 60%
    );
    background-position: 0%;
  }
  .main-header-item.select {
    background: #9994;
  }

  .main-header-icon {
    width: 48px;
    height: 48px;
    border-radius: 25%;
    image-rendering: pixelated;
    object-fit: cover;
    filter: invert(1);
    backdrop-filter: blur(8px) invert(1);
    pointer-events: all;
  }
  .main-header-icon-yay {
    border-radius: 50%;
    object-position: 0 0;
  }
  .main-header-icon-yay:hover {
    object-position: 100% 0;
  }

  @media (max-width: 600px) {
    .main-header {
      height: 90px;
      padding-top: 6px;
    }
    .main-header-bar {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      justify-items: center;
      row-gap: 6px;
    }
    .main-header-icon {
      display: none;
    }
  }

  .main-header-indicator {
    position: absolute;
    width: 6px;
    height: 6px;
    left: 50%;
    top: calc(100% + 12px);
    transform: translate(-50%, -50%);
    /* border acts as extended touch area */
    border: solid 6mm transparent;
    border-left-width: 45vw;
    border-right-width: 45vw;
    border-radius: 50%;
    background: #fff;
    background-clip: padding-box;
    opacity: 0;
    transition: opacity 50ms;
  }
  .main-header.hidden .main-header-indicator {
    opacity: 0.4;
    pointer-events: all;
  }
</style>
  <style>
  .blog-page {
    margin: auto;
    overflow: hidden;
  }

  .content {
    margin: auto;
    padding: 0 18px 60px;
    width: 100%;
    max-width: 700px;
    font-family: var(--reading-font, sans-serif);
    font-size: 16px;
    line-height: 2.2;
    letter-spacing: 0.02em;
    color: #ddd;
    box-sizing: border-box;
  }

  .postcontent {
    margin: auto;
    padding: 0 0 60px;
    width: 100%;
    box-sizing: border-box;
  }
  .postcontent-narrow {
    margin: auto;
    padding: 0 18px;
    width: 100%;
    max-width: 700px;
    box-sizing: border-box;
  }

  .blog-signature {
    position: relative;
    margin: 0 0 60px;
    line-height: 21px;
  }
  .blog-signature::before {
    content: "❝";
    position: absolute;
    left: -15px;
    top: 0;
    font-size: 60px;
    opacity: 0.2;
  }
  .blog-signature a {
    font-weight: bold;
  }
  .blog-signature-name {
    white-space: nowrap;
  }
  .blog-signature-img {
    position: relative;
    top: 3px;
  }

  .markdown > h1,
  .markdown > h2,
  .markdown > h3,
  .markdown > h4,
  .markdown > h5,
  .markdown > h6 {
    margin: 48px 0 36px;
    font-family: var(--display-font);
    font-weight: normal;
    font-style: italic;
    line-height: 1.6;
    letter-spacing: 0.04em;
    text-wrap: balance;
  }
  .markdown > h1 {
    text-align: center;
    font-size: 200%;
  }
  .markdown > h2 {
    font-size: 150%;
  }
  .markdown > h3,
  .markdown > h4,
  .markdown > h5,
  .markdown > h6 {
    font-size: 120%;
    font-weight: bold;
  }

  .markdown > p {
    margin: 36px 0;
  }
  .markdown .box-note > p {
    margin: 18px 0;
  }
  .markdown .box-note > p:first-child {
    margin-top: 0;
  }
  .markdown .box-note > p:last-child {
    margin-bottom: 0;
  }

  .markdown-table,
  .markdown .horizontal-scroll {
    margin: 0 -18px; /* bleed content padding */
    padding: 0 18px; /* bleed content padding */
    overflow-x: auto;
  }
  .markdown-table > table {
    min-width: 100%;
    box-sizing: border-box;
    border-collapse: collapse;
    background-color: var(--card-clr);
    border-radius: 12px;
  }
  .markdown-table > table th,
  .markdown-table > table td {
    min-width: min(25vw, 8ch);
    box-sizing: border-box;
    text-align: start;
    padding: 9px 6px;
    padding-inline-end: 18px;
    border-bottom: solid 1px #444;
  }
  .markdown-table > table th:first-child,
  .markdown-table > table td:first-child {
    padding-left: 12px;
  }
  .markdown-table > table th:last-child,
  .markdown-table > table td:last-child {
    padding-right: 12px;
  }
  .markdown-table > table > tbody > tr:last-child > td {
    border-bottom: none;
  }

  .markdown > hr {
    width: 36px;
    margin: 90px auto;
    border: solid 1.5px #ccc;
    background: #ccc;
    border-radius: 3px;
  }

  .markdown code:not([class]):not([class]) {
    display: inline-block;
    padding: 0 6px;
    font-family: var(--default-font, monospace);
    font-size: 15px;
    font-style: italic;
  }
  .markdown > pre:not([class]) > code:not([class]) {
    display: block;
    padding: 18px;
    border-radius: 18px;
    line-height: 1.6;
    font-size: 15px;
    font-style: normal;
    overflow-x: auto;
    background: var(--card-clr);
  }

  .markdown > blockquote {
    position: relative;
    margin: 0;
    padding: 18px 24px;
    border-radius: 18px;
    border: solid 1px var(--clr0);
    font-size: 21px;
  }
  .markdown > blockquote::before {
    content: "";
    position: absolute;
    right: 100%;
    top: 0;
    height: 24px;
    width: 24px;
    border-bottom: solid 1px var(--clr0);
    box-sizing: border-box;
  }
  .markdown > blockquote::after {
    content: "";
    position: absolute;
    right: 100%;
    top: 24px;
    bottom: 18px;
    width: 24px;
    border-top-right-radius: 24px;
    border: solid var(--clr0);
    border-width: 1px 1px 0 0;
    box-shadow: 9px 0 0 var(--bg-clr), 18px 0 0 var(--bg-clr);
    box-sizing: border-box;
  }
  .markdown > blockquote > :first-child {
    margin-top: 0;
  }
  .markdown > blockquote > :last-child {
    margin-bottom: 0;
  }
  .markdown > blockquote cite {
    display: block;
    margin-top: 12px;
    font-size: 15px;
    font-style: inherit;
  }
  .markdown > blockquote cite::before {
    content: "—";
  }

  .markdown > iframe,
  .markdown > p > iframe {
    max-width: calc(100vw - 18px);
    border: none;
    border-radius: 18px;
    background: #fff;
  }

  .markdown .center {
    text-align: center;
  }
  .markdown .center-flex {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  /* todo? convert to component <blog-bleed>, reuse across <blog-media> */
  .markdown .bleed {
    position: relative;
    left: 50%;
    width: 100vh;
    max-width: max(min(100vw, 800px), 80vw);
    transform: translateX(-50%);
  }

  /* todo: convert to component <caption>, reuse across <blog-media> */
  .markdown .caption {
    display: block;
    font-size: 15px;
    text-align: center;
  }
</style>
  <style>
  .card-carousel-container {
    position: relative;
  }

  .card-carousel {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: calc(min(546px, 100svw - 90px));
    justify-content: start;
    gap: 60px;
    padding: 12px 12px 0;
    scrollbar-width: none;
    overflow: auto;
  }
  @media (max-width: 900px) {
    .card-carousel {
      gap: 30px;
    }
  }

  .card-carousel-btn-container {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    pointer-events: none;
  }

  .card-carousel-btn {
    position: absolute;
    min-width: 60px;
    height: 60px;
    padding: 0 18px;
    box-sizing: border-box;
    border: none;
    background: var(--bg-clr);
    color: var(--text-clr);
    cursor: pointer;
    font-family: var(--display-font);
    font-size: 21px;
    font-weight: bold;
    text-shadow: 0 0 18px #000;
    pointer-events: all;
    transition: opacity 60ms ease-out;
  }
  .card-carousel-container:hover .card-carousel-btn {
    color: var(--clr0-light);
  }
  .card-carousel-btn:hover {
    color: var(--clr1);
  }
  .card-carousel-btn-next {
    right: 0;
    bottom: 0;
    text-align: left;
    padding-left: 5mm;
    border-top-left-radius: 12px;
  }
  .card-carousel-btn-prev {
    left: 0;
    top: 0;
    text-align: right;
    padding-right: 5mm;
    border-bottom-right-radius: 12px;
  }
  .card-carousel-btn-hidden {
    opacity: 0;
  }

  .card-carousel-btn-symbol {
    display: inline-block;
    pointer-events: none;
  }
  .card-carousel-container:hover .card-carousel-btn-next .card-carousel-btn-symbol {
    animation: card-carousel-btn-next-symbol 0.5s var(--ease) infinite alternate;
  }
  .card-carousel-container:hover .card-carousel-btn-prev .card-carousel-btn-symbol {
    animation: card-carousel-btn-prev-symbol 0.5s var(--ease) infinite alternate;
  }
  @keyframes card-carousel-btn-next-symbol {
    to {
      transform: translateX(0.5ch);
    }
  }
  @keyframes card-carousel-btn-prev-symbol {
    to {
      transform: translateX(-0.5ch);
    }
  }

  /* approximately select touch-based media */
  @media (hover: none) and (pointer: coarse) {
    .card-carousel-btn {
      display: none;
    }
  }
</style>
  <style>
  .blog-suggestions {
    margin: 120px auto 0;
    width: 100%;
    box-sizing: border-box;
  }

  .blog-suggestions-title-link {
    color: inherit;
  }

  .blog-suggestions-title {
    margin: 0 0 30px;
    text-align: center;
  }

  .blog-suggestions-carousel {
    /* virtual max width 2400px */
    padding-inline: calc(max(30px, 50svw - 1200px));
  }
</style>
  <style>
  .card-grid-item {
    display: block;
    text-decoration: none;
    text-align: start;
    color: var(--text-clr);
    overflow: hidden;
    transition: 0.2s var(--ease);
    transition-property: margin, padding;
  }
  .card-grid-animated .card-grid-item {
    animation: card-grid-item-reveal 0.8s var(--ease) backwards;
    animation-delay: var(--card-grid-item-delay);
  }
  @keyframes card-grid-item-reveal {
    0% {
      clip-path: inset(20% 100% 60% 0 round 18px);
      filter: brightness(0);
    }
    50% {
      clip-path: inset(20% 0 60% 0 round 18px);
      filter: brightness(1);
    }
    100% {
      clip-path: inset(0 0 0 0 round 18px);
    }
  }

  .card-grid-image-container {
    position: relative;
    width: 100%;
    height: 270px;
    border-radius: 18px;
    overflow: hidden;
    z-index: 0;
  }
  .card-grid-image-container::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    background: var(--clr0);
    mix-blend-mode: darken;
    transition: background 1s;
  }

  .card-grid-image {
    width: 101%;
    height: 101%;
    object-fit: cover;
    object-position: top;
    filter: contrast(0.8);
    transform: scale(1);
    transform-origin: 9px 9px;
    transition: filter 1s, transform 1s;
  }
  .card-grid-thumbalign-center .card-grid-image {
    object-position: center;
    transform-origin: center;
  }
  .card-grid-thumbalign-top .card-grid-image {
    object-position: top;
    transform-origin: top;
  }

  .card-grid-title-wrap {
    position: relative;
    max-width: 70%;
    height: 0;
  }
  .card-grid-title-bar {
    position: absolute;
    bottom: 0;
    border-top-right-radius: 18px;
    background: var(--bg-clr);
  }
  .card-grid-title-content {
    position: relative;
    padding: 12px 24px 0 0;
    transition: padding 0.2s var(--ease);
  }
  .card-grid-title-content::before {
    content: "";
    position: absolute;
    left: 0;
    bottom: 100%;
    width: 18px;
    height: 36px;
    border-bottom-left-radius: 18px;
    box-shadow: 0 18px 0 var(--bg-clr);
  }
  .card-grid-title-content::after {
    content: "";
    position: absolute;
    left: 100%;
    bottom: 0;
    width: 36px;
    height: 18px;
    border-bottom-left-radius: 18px;
    box-shadow: -18px 0 0 var(--bg-clr);
  }

  .card-grid-title {
    font-family: var(--display-font);
    font-size: 18px;
    font-style: italic;
    font-weight: bold;
  }

  .card-grid-posttitle {
    margin-top: 12px;
    font-size: 15px;
    font-style: italic;
    font-weight: bold;
    opacity: 0.8;
  }
  .card-grid-posttitle:empty {
    display: none;
  }

  .card-grid-postitle-small {
    display: none;
  }

  .card-grid-actions {
    display: none;
    gap: 5mm;
    max-height: 48px;
    padding-top: 6px;
    overflow: hidden;
  }
  .card-grid-action {
    display: inline-block;
    font-weight: bold;
    text-decoration: underline;
    color: var(--text2-clr);
    cursor: pointer;
    position: relative;
  }
  .card-grid-info {
    margin: -2.5mm;
    padding: 2.5mm;
  }
  .card-grid-story::after {
    content: "→";
    display: inline-block;
  }

  .card-grid-content {
    margin: 18px 0;
    font-size: 15px;
    line-height: 2;
    transition: margin 0.2s var(--ease);
  }

  .card-grid-animated .card-grid-title {
    animation: card-grid-text-reveal 0.4s cubic-bezier(0, 0.8, 0.6, 1) backwards;
    animation-delay: calc(var(--card-grid-item-delay) + 0.8s);
  }
  .card-grid-animated .card-grid-posttitle {
    animation: card-grid-text-reveal 0.4s cubic-bezier(0, 0.8, 0.6, 1) backwards;
    animation-delay: calc(var(--card-grid-item-delay) + 0.9s);
  }

  @keyframes card-grid-text-reveal {
    from {
      transform: translateY(-100%);
      clip-path: inset(100% 0 0 0);
    }
    to {
      clip-path: inset(0 0 0 0);
    }
  }

  .card-grid-animated .card-grid-content {
    animation: card-grid-content 0.6s 1.5s backwards;
  }
  @keyframes card-grid-content {
    from {
      opacity: 0;
    }
  }

  @media (hover: hover) {
    .card-grid-item:hover {
      margin: -12px -24px 0;
      padding-bottom: 12px;
    }
    .card-grid-item:hover .card-grid-image-container::after {
      background: var(--text-clr);
      transition: background 2s;
    }
    .card-grid-item:hover .card-grid-image {
      filter: contrast(1);
      transform: scale(1.1);
      transition: filter 1s, transform 2s;
    }
    .card-grid-item:hover .card-grid-title-content {
      padding: 24px;
    }
    .card-grid-item:hover .card-grid-content {
      margin-left: 24px;
      margin-right: 24px;
    }
  }

  @media (max-width: 600px) {
    .card-grid-content {
      margin: 12px 0;
    }

    .card-grid-image-container {
      height: 200px;
    }

    .card-grid-posttitle {
      display: none;
    }
    .card-grid-postitle-small {
      display: block;
    }

    .card-grid-actions {
      display: flex;
    }
    .card-grid-item-expanded .card-grid-actions {
      max-height: 0;
      transition: max-height 0.2s cubic-bezier(0.2, 0, 0.8, 1);
    }

    .card-grid-description {
      max-height: 0;
      overflow: hidden;
    }
    .card-grid-item-expanded .card-grid-description {
      max-height: 100vh;
      transition: max-height 1s cubic-bezier(0.2, 0, 1, 1);
    }
  }
</style>
  <style>
  .tag-component {
    display: inline-block;
    padding: 0 3px;
    height: 16px;
    line-height: 16px;
    font-family: var(--default-font);
    font-size: 12px;
    font-weight: bold;
    background: #ccc;
    color: #444;
    border-radius: 3px;
  }
</style>
  <style>
  .btn,
  .btn:visited {
    padding: 6px 12px;
    border-radius: 12px;
    border: none;
    font-family: var(--display-font);
    font-size: 12px;
    font-weight: bold;
    text-decoration: none;
    background: var(--clr0-dark);
    color: #fff;
    cursor: pointer;
  }
  .btn:not(:disabled):hover {
    background: var(--clr0);
  }
  .btn:not(:disabled):active {
    background: var(--clr0-dark);
  }
  .btn:disabled {
    color: #888;
    cursor: not-allowed;
  }
</style>
  <style>
  .blog-rss-link {
    margin: 60px auto 0;
    width: 100%;
    text-align: center;
  }

  .blog-rss-link-combo {
    display: flex;
    justify-content: center;
  }
  .blog-rss-link-a {
    padding: 0 12px;
    border: solid 1px var(--clr0);
    border-top-left-radius: 12px;
    border-bottom-left-radius: 12px;
    box-sizing: border-box;
    height: 30px;
    line-height: 30px;
    font-size: 12px;
    color: var(--text2-clr);
  }
  .blog-rss-link-button {
    height: 30px;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
</style>
  <style>
  .text-link {
    color: var(--clr0-light, #fff);
  }
  .text-link:visited {
    color: var(--clr0, #fff);
  }
</style>
  <style>
  .cmyk-color {
    background: black;
  }
</style>
  <style>
        .colored-item {
          color: #f8f;
        }
      </style>
  <style>
        .blurred-thresholding {
          position: relative;
          width: 100%;
          height: 300px;
          background: white;
          border-radius: 18px;
        }
        .blurred-thresholding-sample {
          position: absolute;
          margin: 5% 25%;
          width: 50%;
          height: 80%;
          background:
            linear-gradient(to bottom, #bbb, #fff),
            radial-gradient(
              10px at 50% 50%,
              #000,
              #ccc
            ) top left / 20px 20px;
          background-blend-mode: multiply;
          animation: blurred-thresholding-sample ease-out 3s infinite alternate;
        }
        @keyframes blurred-thresholding-sample {
          from {
            filter: blur(0) contrast(999);
          }
          to {
            filter: blur(6px) contrast(999);
          }
        }
      </style>
  <style>
        .thresholding {
          position: relative;
          width: 100%;
          height: 300px;
          background: white;
          border-radius: 18px;
        }
        .thresholding-before,
        .thresholding-after {
          position: absolute;
          margin: 5% 25%;
          width: 50%;
          height: 80%;
          background:
            linear-gradient(to bottom, black, #666, white),
            radial-gradient(
              14px at 50% 50%,
              #000,
              #666,
              #fff
            ) top left / 20px 20px;
          background-blend-mode: screen;
        }
        .thresholding-after {
          filter: brightness(0.8) contrast(100);
          animation: thresholding-after ease-in 3s infinite;
        }
        @keyframes thresholding-after {
          0%, 10% {
            clip-path: inset(0 100% 0 0);
          }
          60%, 100% {
            clip-path: inset(0 0 0 0);
          }
        }
      </style>
  <style>
        .multiplication {
          position: relative;
          width: 100%;
          height: 300px;
          background: white;
          border-radius: 18px;
        }
        .multiplication-source {
          position: absolute;
          margin: 5%;
          width: 42.5%;
          height: 80%;
          background-image: linear-gradient(to bottom, black, #666, white);
        }
        .multiplication-pattern-behind,
        .multiplication-pattern {
          position: absolute;
          margin: 5%;
          width: 42.5%;
          height: 80%;
          background-image: radial-gradient(
              14px at 50% 50%,
              #000,
              #666,
              #fff
            );
          background-size: 20px 20px;
          animation: multiplication-pattern ease-in 3s infinite;
        }
        .multiplication-pattern {
          mix-blend-mode: screen;
        }
        @keyframes multiplication-pattern {
          0%, 10% {
            right: 0;
          }
          60%, 100% {
            right: 47.5%;
          }
        }
      </style>
  <script async="" src="/scripts/cursor.js"></script>
  <script>
  function onChangeHalftoneDemoEnabled() {
    getHalftoneDemoBox(event.currentTarget)?.classList.toggle(
      "halftone-disabled",
      !event.currentTarget.checked
    );
  }

  function onChangeHalftoneDemoSeparateK() {
    getHalftoneDemoBox(event.currentTarget)?.classList.toggle(
      "halftone-separate-k",
      event.currentTarget.checked
    );
  }

  function onInputHalftoneDemoSize(event) {
    getHalftoneDemoBox(event.currentTarget)?.style.setProperty(
      "--halftone-size",
      event.currentTarget.value + "px"
    );
  }

  function onInputHalftoneDemoBleed(event) {
    getHalftoneDemoBox(event.currentTarget)?.style.setProperty(
      "--halftone-bleed",
      event.currentTarget.value
    );
  }

  function onInputHalftoneDemoRotation(event) {
    getHalftoneDemoBox(event.currentTarget)?.style.setProperty(
      "--halftone-rotation",
      event.currentTarget.value + "deg"
    );
  }

  const halftoneDemoBoxCacheKey = Symbol();
  function getHalftoneDemoBox(from) {
    if (!(halftoneDemoBoxCacheKey in from)) {
      const selector = ".halftone-demo-box";

      let found = null;
      let current = from;
      do {
        if (current.matches(selector)) found = current;
        if (!found) found = current.querySelector(selector);
        current = current.previousElementSibling ?? current.parentElement;
      } while (!found && current);

      from[halftoneDemoBoxCacheKey] = found;
    }
    return from[halftoneDemoBoxCacheKey];
  }
</script>
</head>


<body>

  <span hidden="" class="p-name">Creating a halftone effect with CSS</span>
  <div class="page-wrapper">
    <header class="main-header">
      <div class="main-header-bar">
        <a href="/" class="main-header-item ">Home</a>
        <a href="/notes/" class="main-header-item select">Notes</a>
        <a href="/about/" class="main-header-item ">About</a>
        <img class="main-header-icon main-header-icon-yay" src="/icons/yay_sheet.png" alt="">
        <a href="/wares/" class="main-header-item ">Wares</a>
        <a href="/art/" class="main-header-item ">Art</a>
        <a href="/music/" class="main-header-item ">Music</a>
        <div class="main-header-indicator"></div>
      </div>
    </header>
    <div class="page-wrapper-content">

      <div class="blog-page h-entry">

        <div class="content e-content">

          <div class="blog-header">
            <div class="text-with-bg blog-header-title p-name" style="--text-with-bg-color: var(--bg-clr)">
              <h1 class="text-with-bg-span blog-header-title-inner">
                Creating a halftone effect with CSS
              </h1>
            </div>
            <img srcset="/notes/pure-css-halftone/hero_800.generated.jpg 800w,/notes/pure-css-halftone/hero_1020.generated.jpg 1020w,/notes/pure-css-halftone/hero_1400.generated.jpg 1400w" sizes="not (min-width:800px) 800px,(max-width:1275px) 1020px, 1400px" class="blog-header-hero u-media" src="/notes/pure-css-halftone/hero.jpg" alt="" spec="100% [800) 80%">
            <svg xmlns="http://www.w3.org/2000/svg" class="blog-header-decor">
              <path></path>
            </svg>
          </div>
          <div class="blog-post-info ">
            <span class="dt-published">5 May 2024</span> · 8 min read
          </div>
          <div class="tag-row">tags:
            <span class="tag-component p-category" style="background: #817db5; color: #302e47">css</span>
          </div>
          <!-- textlint-enable -->
          <!-- prettier-ignore -->
          <div class="markdown">
            <p>Here’s a quick halftone effect (i.e. a retro printed look) using CSS with only one div at the minimum.</p>
            <p>First of all, here’s a live demo:</p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:5px;--halftone-bleed:0.4" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label></p>
            <p>Toggle the filter class using the checkbox above.</p>
            <p>To further illustrate the halftone effect, the following demo can vary the <strong>size</strong> of the dots and the degree to which they <strong>‘bleed’</strong>:</p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:12px;--halftone-bleed:0.2" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="12" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.2" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label></p>
            <p>There are several ways to do this in CSS. The above is a bit more advanced with 2-3 extra divs. I’ll try to show a simple method, first.</p>
            <h2 id="halftone-basics">Halftone basics</h2>
            <p>To keep it simple, let’s start with a black-and-white image. It should be easy to layer in additional colors with the same principle.</p>
            <p>
            <div class="halftone-demo-box halftone-grayscale " style="--halftone-size:8px;--halftone-bleed:1" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
              </div>
            </div>
            </p>
            <p>Actually, let’s start with a simpler image. A gradient, to illustrate how halftone works in the first place.</p>
            <p>
            <div class="halftone-demo-box halftone-grayscale " style="--halftone-size:5px;--halftone-bleed:1.5" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/gradient_500.generated.jpg 500w,/notes/pure-css-halftone/gradient_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/gradient.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #080808">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/gradient_500.generated.jpg 500w,/notes/pure-css-halftone/gradient_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/gradient.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #080808">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="2" value="1.5" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label></p>
            <p>A <a target="_blank" class="text-link " href="https://en.wikipedia.org/wiki/Halftone">halftone</a> pattern is an array of ink dots simulating the appearance of smooth gradiation of tones using just two pure tones (pure black ‘ink’ and pure white background in this case). By varying the size of the dots, the average ink coverage in a given area determines how light or dark the tone is in that area.</p>
            <p>Dots large enough would bleed into each other, creating the effect of negative dots.</p>
            <h2 id="screen-and-threshold">Screen and threshold</h2>
            <p>Dot size and bleed can be emulated in one go using two simple image processing operations, <strong>screen</strong> and <strong>threshold</strong>.</p>
            <p>The first step is to <em>screen</em> the source image (in this case, the gradient) with a <em>blurry dot matrix pattern</em>.</p>
            <p><strong>Screen</strong> is an operation that mixes the pixels of the source image and the overlay image using some kind of an inverted multiplication formula. Essentially, it <em>lightens lighter areas multiplicatively</em>.</p>
            <p>Because the dots are blurry (i.e. having feathered edges), the screen operation gives us smaller-looking dots in lighter areas on the original image and denser dots in darker areas.</p>
            <div class="multiplication">
              <div class="multiplication-pattern-behind"></div>
              <div class="multiplication-source"></div>
              <div class="multiplication-pattern"></div>
            </div>


            <p>This operation is done via CSS <code>mix-blend-mode: screen</code>.</p>
            <p>The blurry dot pattern is generated using a <code>radial-gradient</code> as a repeated <code>background-image</code>, like this:</p>
            <pre class="code-block "><code class="code-block-code"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>14px at 50% 50%<span class="token punctuation">,</span> black<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token property">background-size</span><span class="token punctuation">:</span> 20px 20px<span class="token punctuation">;</span></code></pre>
            <p>The next step is to <strong>threshold</strong> the resulting image. That is, convert the image into pure black &amp; pure white pixels. Dark pixels become fully black, and light pixels become white — according to some defined threshold between light vs dark.</p>
            <p>This creates the signature black-ink-matrix-on-white-paper look.</p>
            <div class="thresholding">
              <div class="thresholding-before"></div>
              <div class="thresholding-after"></div>
            </div>


            <p>In CSS, there is no threshold filter, but it can be simulated by applying an extremely high <strong>contrast</strong> filter, pushing pixel values to the extremes of pure white and pure black. Effectively the same result as thresholding. In code, that’s simply a <code>filter: contrast(999)</code>.</p>
            <p>Another thing we can add is a <strong>blur</strong> filter, <em>just before</em> the thresholding operation. This emulates surface tension of the ink, or something.</p>
            <div class="blurred-thresholding">
              <div class="blurred-thresholding-sample"></div>
            </div>


            <p>Let’s take a moment to look at the basic black-and-white solution so far:</p>
            <pre class="code-block "><code class="code-block-code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>halftone<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>...</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.halftone</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token comment">/* brightness controls the threshold point */</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">brightness</span><span class="token punctuation">(</span>0.8<span class="token punctuation">)</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span> <span class="token function">contrast</span><span class="token punctuation">(</span>999<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.halftone::after</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at center<span class="token punctuation">,</span> black<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> 20px 20px<span class="token punctuation">;</span>
    <span class="token property">mix-blend-mode</span><span class="token punctuation">:</span> screen<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
            <h2 id="colours-may-yeet-knowingly">Colours may yeet knowingly</h2>
            <p>When you get the black ink dots going, adding the rest of the colours is easy. Just add a set of dots for each of CMY — cyan, magenta, and yellow, the “primary colours” of ink — to complete the <a target="_blank" class="text-link " href="https://en.wikipedia.org/wiki/CMYK_color_model">CMYK</a>! Make sure to stagger the dots so they are distributed evenly. How to stagger them well is left as an exercise to the dear reader, you (see <a target="_blank" class="text-link " href="https://the-print-guide.blogspot.com/2009/05/halftone-screen-angles.html">halftone angles</a>, <a target="_blank" class="text-link " href="https://proofing.de/whats-moire-and-can-i-see-moire-in-a-proof/">moiré patterns</a>, etc).</p>
            <pre class="code-block "><code class="code-block-code"><span class="token property">background</span><span class="token punctuation">:</span>
  <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at center<span class="token punctuation">,</span> #000<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at ...<span class="token punctuation">,</span> #0ff<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at ...<span class="token punctuation">,</span> #f0f<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at ...<span class="token punctuation">,</span> #ff0<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
            <p>These additional layers will work just as well as black because the <code>contrast</code> filter operates on each RGB channel independently. The colours of cyan <span class="cmyk-color" style="color:#0ff">(#0ff)</span>, magenta <span class="cmyk-color" style="color:#f0f">(#f0f)</span>, and yellow <span class="cmyk-color" style="color:#ff0">(#ff0)</span> are at their own extremes in each RGB channel, just like black (#000) and white (#fff). Thus, the <code>contrast</code> filter produces a similar thresholding effect on each colour in CMYK independently and simultaneously!</p>
            <p><span class="box-note ">Note: This is not a very accurate representation of halftone, mainly due to the operations being in RGB, not CMY. An accurate simulation would be to apply thresholding to each channel in some CMY space via JS or maybe WebGL. But this shallow emulation may look good enough in many cases.</span></p>
            <p>Here’s the result…?</p>
            <p>
            <div class="blog-media blog-media-default ">
              <img srcset="/notes/pure-css-halftone/no-ink-mixing_628.generated.png 628w,/notes/pure-css-halftone/no-ink-mixing_664.generated.png 664w" sizes="not (min-width:664px) 628px, 664px" class="blog-media-element " alt="halftone effect with only magenta dots visible" src="/notes/pure-css-halftone/no-ink-mixing.png" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.319327731092437; background: #d8d8d8">
            </div>
            </p>
            <p>Only magenta is showing, because the magenta layer is the top layer in that <code>background-image</code> list! The other layers are hidden beneath the magenta layer. We need to combine these layers to see all the colours.</p>
            <p>In order to mix the four layers of ‘ink’ correctly, you must use the <strong>multipy</strong> blend mode to simulate how inks mix together (i.e. <a target="_blank" class="text-link " href="https://en.wikipedia.org/wiki/Subtractive_color">subtractive colour mixing</a>).</p>
            <p>Since we’re mixing <code>background-image</code>s together, we use this property: <code>background-blend-mode: multiply</code>.</p>
            <p>
            <div class="halftone-demo-box" style="--halftone-size:5px;--halftone-bleed:0.2" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/flowers_500.generated.jpg 500w,/notes/pure-css-halftone/flowers_664.generated.jpg 664w" sizes="not (min-width:664px) 500px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/flowers.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3812154696132597; background: #384878">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label></p>
            <p>Aaand that’s it! A simple Halftone effect with a single div wrapper!</p>
            <p>This simple filter is not very robust, so you may want to tailor the brightness and saturation levels of the particular source image.</p>
            <pre class="code-block "><code class="code-block-code"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>halftone<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>...</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.halftone</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">brightness</span><span class="token punctuation">(</span>0.8<span class="token punctuation">)</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span> <span class="token function">contrast</span><span class="token punctuation">(</span>999<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.halftone::after</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span>
      <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at center<span class="token punctuation">,</span> black<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at 5px 5px<span class="token punctuation">,</span> cyan<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at 15px 5px<span class="token punctuation">,</span> magenta<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function">radial-gradient</span><span class="token punctuation">(</span>10px at 10px 15px<span class="token punctuation">,</span> yellow<span class="token punctuation">,</span> white<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> 20px 20px<span class="token punctuation">;</span>
    <span class="token property">background-blend-mode</span><span class="token punctuation">:</span> multiply<span class="token punctuation">;</span>
    <span class="token property">mix-blend-mode</span><span class="token punctuation">:</span> screen<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre>
            <p><span class="box-note ">A minor point, but the demo above actually uses two separate overlay divs instead of a single div. This is to achieve better dot staggering.</span></p>
            <h2 id="variations">Variations</h2>
            <p>Notice anything wrong with the last image above? There’s a weird magenta pattern on that flower petal. In fact, there are more magenta dots than expected!</p>
            <p>Apparently, the black dots were turning into the coloured ones. I think the problem was that: <strong><span class="colored-item">coloured source image</span> ⊕ black dot pattern = <span class="colored-item">coloured dots</span></strong>! <em>The symbol ⊕ represents the screen-threshold operation.</em> In other words, colour is contagious!</p>
            <p>What I did to fix this was separate the K layer (black) from CMY, and have it use its own greyscale copy of the source image. <strong>greyscale source image ⊕ black dot pattern = black dots</strong>.</p>
            <p>Here’s a vivid example where you can toggle the ‘separate-K’ version for comparison purposes:</p>
            <p>
            <div class="halftone-demo-box" style="--halftone-size:7px;--halftone-bleed:0.35" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/eye_600.generated.jpg 600w,/notes/pure-css-halftone/eye_664.generated.jpg 664w" sizes="not (min-width:664px) 600px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/eye.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.5463917525773196; background: #080808">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/eye_600.generated.jpg 600w,/notes/pure-css-halftone/eye_664.generated.jpg 664w" sizes="not (min-width:664px) 600px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/eye.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.5463917525773196; background: #080808">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label><label class="halftone-demo-control-row">
              Separate K layer
              <input type="checkbox" onchange="onChangeHalftoneDemoSeparateK(event)">
            </label><label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="7" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.35" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label><label class="halftone-demo-control-row">
              Rotation
              <input type="range" min="0" max="360" value="0" step="0.1" oninput="onInputHalftoneDemoRotation(event)">
            </label></p>
            <p>There are more ways to go about this with different qualities and levels of realism and complexity. For example, dithering.</p>
            <p>I think the single-div solution is actually fine as long as you tweak the source image to be more readable under the filter.</p>
            <h2 id="gallery">Gallery</h2>
            <p>To finish with, here are a more demos!</p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:5px;--halftone-bleed:0.4" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/sydney_664.generated.jpg 664w" sizes=" 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/sydney.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1; background: #080808">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/sydney_664.generated.jpg 664w" sizes=" 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/sydney.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1; background: #080808">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label><label class="halftone-demo-control-row">
              Separate K layer
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoSeparateK(event)">
            </label><label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.4" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label><label class="halftone-demo-control-row">
              Rotation
              <input type="range" min="0" max="360" value="0" step="0.1" oninput="onInputHalftoneDemoRotation(event)">
            </label></p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:5px;--halftone-bleed:0.4" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/wheel_602.generated.jpg 602w,/notes/pure-css-halftone/wheel_664.generated.jpg 664w" sizes="not (min-width:664px) 602px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/wheel.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 0.7525; background: #285898">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/wheel_602.generated.jpg 602w,/notes/pure-css-halftone/wheel_664.generated.jpg 664w" sizes="not (min-width:664px) 602px, 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/wheel.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 0.7525; background: #285898">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label><label class="halftone-demo-control-row">
              Separate K layer
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoSeparateK(event)">
            </label><label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.4" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label><label class="halftone-demo-control-row">
              Rotation
              <input type="range" min="0" max="360" value="0" step="0.1" oninput="onInputHalftoneDemoRotation(event)">
            </label></p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:5px;--halftone-bleed:0.4" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <img srcset="/notes/pure-css-halftone/sunflower_664.generated.jpg 664w" sizes=" 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/sunflower.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.5009380863039399; background: #083888">
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <img srcset="/notes/pure-css-halftone/sunflower_664.generated.jpg 664w" sizes=" 664px" class="halftone-media" alt="" src="/notes/pure-css-halftone/sunflower.jpg" spec="100% [664) 664" loading="lazy" width="100%" height="" style="aspect-ratio: 1.5009380863039399; background: #083888">
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label><label class="halftone-demo-control-row">
              Separate K layer
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoSeparateK(event)">
            </label><label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.4" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label><label class="halftone-demo-control-row">
              Rotation
              <input type="range" min="0" max="360" value="0" step="0.1" oninput="onInputHalftoneDemoRotation(event)">
            </label></p>
            <p>
            <div class="halftone-demo-box halftone-separate-k " style="--halftone-size:5px;--halftone-bleed:0.4" data-rss="interactive" alt="CSS halftone demo">
              <div class="halftone-demo">
                <video class="halftone-media" src="/notes/pure-css-halftone/waves.mp4" muted="" autoplay="" loop="" aria-label="">
                  Video: | Source: /notes/pure-css-halftone/waves.mp4
                </video>
                <div class="halftone-demo-ink"></div>
              </div>
              <div class="halftone-demo-k-layer">
                <video class="halftone-media" src="/notes/pure-css-halftone/waves.mp4" muted="" autoplay="" loop="" aria-label="">
                  Video: | Source: /notes/pure-css-halftone/waves.mp4
                </video>
              </div>
            </div>
            <label class="halftone-demo-control-row">
              Toggle effect
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoEnabled(event)">
            </label><label class="halftone-demo-control-row">
              Separate K layer
              <input type="checkbox" checked="" onchange="onChangeHalftoneDemoSeparateK(event)">
            </label><label class="halftone-demo-control-row">
              Size
              <input type="range" min="4" max="20" value="5" step="1" oninput="onInputHalftoneDemoSize(event)">
            </label><label class="halftone-demo-control-row">
              Bleed
              <input type="range" min="0.1" max="0.45" value="0.4" step="0.01" oninput="onInputHalftoneDemoBleed(event)">
            </label><label class="halftone-demo-control-row">
              Rotation
              <input type="range" min="0" max="360" value="0" step="0.1" oninput="onInputHalftoneDemoRotation(event)">
            </label></p>
            <p>P.S. Please don’t look at the demos’ source code. It’s terrible.
            </p>

          </div>

        </div>
        <div class="postcontent">
          <div class="postcontent-narrow">
            <p class="blog-signature">Thanks for reading! I like making interactive visualisations for my <a target="_self" class="text-link " href="/notes/">programming blog</a>. Sometimes I do <a target="_self" class="text-link " href="/wares/">projects</a> too. Oh, and before you go, sign <a target="_self" class="text-link " href="/guestbook/">the guestbook</a>! See you around! <span class="blog-signature-name"><i>—Lean</i><img class="blog-signature-img" src="/icons/sig.png" alt="liyan"></span></p>
            <reactions-client class="reactions reactions-invisible">
              <h2 class="reaction-title">React to this post</h2>
              <button class="reaction-btn reaction-heart-btn">
                <span class="reaction-icon" aria-label="Heart"></span>
              </button>
              <div class="reaction-count reaction-heart-count"></div>
              <button class="reaction-btn reaction-fire-btn">
                <span class="reaction-icon" aria-label="Fire"></span>
              </button>
              <div class="reaction-count reaction-fire-count"></div>
              <button class="reaction-btn reaction-bubble-btn">
                <span class="reaction-icon" aria-label="Bubble"></span>
              </button>
              <div class="reaction-count reaction-bubble-count"></div>
              <button class="reaction-btn reaction-sun-btn">
                <span class="reaction-icon" aria-label="Sun"></span>
              </button>
              <div class="reaction-count reaction-sun-count"></div>
              <button class="reaction-btn reaction-cloud-btn">
                <span class="reaction-icon" aria-label="Cloud"></span>
              </button>
              <div class="reaction-count reaction-cloud-count"></div>
              <div class="reaction-error"></div>
            </reactions-client>
          </div>
          <aside class="blog-rss-link">
            <p>
              Want me to spam your inbox? Me neither.<br>Forget newsletters; use RSS!
            </p>
            <div class="blog-rss-link-combo">
              <a href="/rss.xml" target="_blank" class="blog-rss-link-a">
                leanrada.com/rss.xml
              </a>
              <button class="btn blog-rss-link-button">
                Copy
              </button>
            </div>
          </aside>
          <aside class="blog-suggestions">
            <a target="_self" class="blog-suggestions-title-link" href="/notes/">
              <h2 class="blog-suggestions-title">More posts</h2>
            </a>
            <div class="card-carousel-container">
              <div class="card-carousel blog-suggestions-carousel">

                <a class="card-grid-item card-grid-thumbalign-center card-grid-item-expanded" href="/notes/pure-css-tictactoe-ai/">
                  <div class="card-grid-image-container">
                    <img srcset="/notes/pure-css-tictactoe-ai/hero_546.generated.jpg 546w" sizes=" 546px" class="card-grid-image" alt="" src="/notes/pure-css-tictactoe-ai/hero.jpg" spec="546" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3333333333333333; background: #080808">
                  </div>
                  <div class="card-grid-title-wrap">
                    <div class="card-grid-title-bar">
                      <div class="card-grid-title-content">
                        <div class="card-grid-title">

                          Pure CSS tic-tac-toe with game AI

                        </div>
                        <div class="card-grid-posttitle"></div>
                      </div>
                    </div>
                  </div>
                  <div class="card-grid-content">
                    <div class="card-grid-posttitle card-grid-postitle-small">

                    </div>
                    <div class="card-grid-actions">
                      <span class="card-grid-action card-grid-info">Deets…</span>
                      <span class="card-grid-action card-grid-story">Read post</span>
                    </div>
                    <div class="card-grid-description">

                      <span class="tag-component p-category" style="background: #817db5; color: #302e47">css</span> <span class="tag-component p-category" style="background: #b7eaa6; color: #336920">games</span>

                      <span class="card-grid-action card-grid-story" aria-label="Read post - 
                
                  Pure CSS tic-tac-toe with game AI
                
              ">Read post</span>
                    </div>
                  </div>
                </a><a class="card-grid-item card-grid-thumbalign-center card-grid-item-expanded" href="/notes/pure-css-volley-ball-game/">
                  <div class="card-grid-image-container">
                    <video class="card-grid-image" src="/notes/pure-css-volley-ball-game/video.web.mp4" muted="" autoplay="" loop="" aria-label="">
                      Video: | Source: /notes/pure-css-volley-ball-game/video.web.mp4
                    </video>
                  </div>
                  <div class="card-grid-title-wrap">
                    <div class="card-grid-title-bar">
                      <div class="card-grid-title-content">
                        <div class="card-grid-title">Volley ball game in pure CSS</div>
                        <div class="card-grid-posttitle"></div>
                      </div>
                    </div>
                  </div>
                  <div class="card-grid-content">
                    <div class="card-grid-posttitle card-grid-postitle-small">

                    </div>
                    <div class="card-grid-actions">
                      <span class="card-grid-action card-grid-info">Deets…</span>
                      <span class="card-grid-action card-grid-story">Read post</span>
                    </div>
                    <div class="card-grid-description">

                      <span class="tag-component p-category" style="background: #817db5; color: #302e47">css</span> <span class="tag-component p-category" style="background: #b7eaa6; color: #336920">games</span> <span class="tag-component p-category" title="micropost" style="background: #cccccc; color: #444444">µpost</span>

                      <span class="card-grid-action card-grid-story" aria-label="Read post - Volley ball game in pure CSS">Read post</span>
                    </div>
                  </div>
                </a><a class="card-grid-item card-grid-thumbalign-center card-grid-item-expanded" href="/notes/debug-css-boxes-bookmarklet/">
                  <div class="card-grid-image-container">
                    <img srcset="/notes/debug-css-boxes-bookmarklet/example_546.generated.png 546w" sizes=" 546px" class="card-grid-image" alt="" src="/notes/debug-css-boxes-bookmarklet/example.png" spec="546" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3333333333333333; background: #f8f8f8">
                  </div>
                  <div class="card-grid-title-wrap">
                    <div class="card-grid-title-bar">
                      <div class="card-grid-title-content">
                        <div class="card-grid-title">Debug CSS boxes with this bookmarklet</div>
                        <div class="card-grid-posttitle"></div>
                      </div>
                    </div>
                  </div>
                  <div class="card-grid-content">
                    <div class="card-grid-posttitle card-grid-postitle-small">

                    </div>
                    <div class="card-grid-actions">
                      <span class="card-grid-action card-grid-info">Deets…</span>
                      <span class="card-grid-action card-grid-story">Read post</span>
                    </div>
                    <div class="card-grid-description">

                      <span class="tag-component p-category" style="background: #817db5; color: #302e47">css</span> <span class="tag-component p-category" title="micropost" style="background: #cccccc; color: #444444">µpost</span>

                      <span class="card-grid-action card-grid-story" aria-label="Read post - Debug CSS boxes with this bookmarklet">Read post</span>
                    </div>
                  </div>
                </a><a class="card-grid-item card-grid-thumbalign-center card-grid-item-expanded" href="/notes/simple-image-recognition-vanilla-js/">
                  <div class="card-grid-image-container">
                    <img srcset="/notes/simple-image-recognition-vanilla-js/hero_546.generated.png 546w" sizes=" 546px" class="card-grid-image" alt="" src="/notes/simple-image-recognition-vanilla-js/hero.png" spec="546" loading="lazy" width="100%" height="" style="aspect-ratio: 1.3333333333333333; background: #48c8d8">
                  </div>
                  <div class="card-grid-title-wrap">
                    <div class="card-grid-title-bar">
                      <div class="card-grid-title-content">
                        <div class="card-grid-title">

                          Simple image recognition with vanilla JavaScript

                        </div>
                        <div class="card-grid-posttitle"></div>
                      </div>
                    </div>
                  </div>
                  <div class="card-grid-content">
                    <div class="card-grid-posttitle card-grid-postitle-small">

                    </div>
                    <div class="card-grid-actions">
                      <span class="card-grid-action card-grid-info">Deets…</span>
                      <span class="card-grid-action card-grid-story">Read post</span>
                    </div>
                    <div class="card-grid-description">

                      <span class="tag-component p-category" style="background: #f0de91; color: #725f15">js</span>

                      <span class="card-grid-action card-grid-story" aria-label="Read post - 
                
                  Simple image recognition with vanilla JavaScript
                
              ">Read post</span>
                    </div>
                  </div>
                </a>

              </div>
              <div class="card-carousel-btn-container">
                <button class="card-carousel-btn card-carousel-btn-prev" aria-label="Previous">
                  <span class="card-carousel-btn-symbol">&lt;&lt;</span>
                </button>
                <button class="card-carousel-btn card-carousel-btn-next" aria-label="Next">
                  <span class="card-carousel-btn-symbol">&gt;&gt;</span>
                </button>
              </div>
            </div>
          </aside>
        </div>
      </div>

    </div>
    <footer class="main-footer">
      <div class="main-footer-content-part">
        <p class="main-footer-line">
          <a target="_self" class="main-footer-link" href="/">Home</a> ·
          <a target="_self" class="main-footer-link" href="/notes/">Notes</a> ·
          <a target="_self" class="main-footer-link" href="/about/">About</a> ·
          <a target="_self" class="main-footer-link" href="/wares/">Software</a> ·
          <a target="_self" class="main-footer-link" href="/art/">Art</a> ·
          <a target="_self" class="main-footer-link" href="/music/">Music</a>
        </p>
        <p class="main-footer-line">
          <img class="main-footer-signature" alt="" src="/icons/laptop_user.png" loading="lazy">
          <span style="display: inline-block">
            ·
            <a target="_self" class="main-footer-link" href="/guestbook/">Sign the guestbook!</a>
            <br>
            · Drop a
            <a target="_blank" class="main-footer-link" href="mailto:mail%40leanrada.com">
              mail＠leanrada·com
            </a>
            <br>
          </span>
        </p>
        <p class="main-footer-line">
          (C) 2015-2024 Lean Rada.
          <a target="_blank" class="main-footer-link" href="https://github.com/Kalabasa/kalabasa.github.io">
            Source</a>.
        </p>
      </div>
      <div class="main-footer-content-part">
        <h2 class="main-footer-links-heading">On the web</h2>
        <a target="_blank" class="main-footer-web-link" href="https://www.linkedin.com/in/leanrada/">
          <img class="main-footer-web-link-icon" alt="LinkedIn" src="/icons/linkedin.png" loading="lazy">
        </a>
        <a target="_blank" class="main-footer-web-link" href="https://codepen.io/kalabasa">
          <img class="main-footer-web-link-icon" alt="CodePen" src="/icons/codepen.png" loading="lazy">
        </a>
        <a target="_blank" class="main-footer-web-link" href="https://github.com/Kalabasa" rel="me">
          <img class="main-footer-web-link-icon" alt="GitHub" src="/icons/github.png" loading="lazy">
        </a>
        <a target="_blank" class="main-footer-web-link" href="https://mastodon.social/@Kalabasa" rel="me">
          <img class="main-footer-web-link-icon" alt="Mastodon" src="/icons/mastodon.png" loading="lazy">
        </a>
        <h2 class="main-footer-links-heading">Webrings</h2>
        <p class="main-footer-line">
          <img class="main-footer-webring-icon" alt="" src="/icons/planet.png" loading="lazy">
          <a target="_blank" class="main-footer-link" href="http://geekring.net/">geekring.net</a>
          [<a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/previous" aria-label="Previous site">←</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/random" aria-label="Random site">⁙</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/next" aria-label="Next site">→</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/frameset" aria-label="Frameset browsing">▣</a>]
        </p>
        <p class="main-footer-line">
          <img class="main-footer-webring-icon" alt="" src="/icons/planet.png" loading="lazy">
          <a target="_blank" class="main-footer-link" href="https://cs.sjoy.lol/">CSS JOY</a>
          [<a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/previous?via=https%3A%2F%2Fleanrada.com" aria-label="Previous site">←</a>
          <a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/random?via=https%3A%2F%2Fleanrada.com" aria-label="Random site">⁙</a>
          <a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/next?via=https%3A%2F%2Fleanrada.com" aria-label="Next site">→</a>]
        </p>
      </div>
      <nebula-client class="main-footer-nebula" palette="#0ad591 #ff2b75 #ffb833 #0ad591 #0ad591 #4d4aff #0ad591" width="40" height="10">
        <canvas style="filter: contrast(1.5)"></canvas>
        <div class="nebula-noise"></div>
      </nebula-client>
      <a class="main-footer-top-btn" href="#top" aria-label="Back to top">^</a>
    </footer>
  </div>






  <script type="module" async="" defer="" src="/scripts/reactions.js"></script>
  <script defer="" src="/scripts/blog-media.js"></script>
  <script defer="" src="/scripts/blog-header.js"></script>
  <script type="module" async="" defer="" src="/scripts/nebula.js"></script>
  <script defer="" src="/scripts/main-footer-main-header.js"></script>
  <script async="" defer="">
  (() => {
    const containers = document.querySelectorAll(".card-carousel-container");

    for (const container of containers) {
      const carousel = container.firstElementChild;

      container.addEventListener(
        "click",
        (event) => {
          const { target } = event;

          const isButton = target.classList.contains("card-carousel-btn");
          if (!isButton) return;

          const isNext = target.classList.contains("card-carousel-btn-next");
          const stepUnitSize =
            carousel.children[1]?.offsetLeft - carousel.children[0]?.offsetLeft;
          const delta =
            (isNext ? 1 : -1) *
            Math.max(1, Math.floor(carousel.offsetWidth / stepUnitSize)) *
            stepUnitSize;
          carousel.scrollBy({
            left: delta,
            behavior: "smooth",
          });

          updateButtons(container, delta);
        },
        { capture: true }
      );

      let debouncedScrollTimeout = null;
      carousel.addEventListener(
        "scroll",
        () => {
          if (debouncedScrollTimeout) clearTimeout(debouncedScrollTimeout);
          debouncedScrollTimeout = setTimeout(() => {
            updateButtons(container);
          }, 50);
        },
        { passive: true }
      );

      updateButtons(container);
    }

    function updateButtons(container, delta = 0) {
      const carousel = container.firstElementChild;
      const nextButton = container.querySelector(".card-carousel-btn-next");
      const prevButton = container.querySelector(".card-carousel-btn-prev");
      nextButton.classList.toggle(
        "card-carousel-btn-hidden",
        carousel.scrollLeft + delta >
          carousel.scrollWidth - carousel.offsetWidth - 60
      );
      prevButton.classList.toggle(
        "card-carousel-btn-hidden",
        carousel.scrollLeft + delta < 60
      );
    }
  })();
</script>
  <script defer="" src="/scripts/card-grid-item.js"></script>
  <script defer="" async="" src="/scripts/blog-rss-link.js"></script>
</body>
</html>