!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).perlinNoise3d=r()}(this,function(){return perlinNoise3d=function(){for(var n=Math.floor(720),r=new Array(n),e=new Array(n),t=Math.PI/180,i=0;i<n;i++)r[i]=Math.sin(i*t*.5),e[i]=Math.cos(i*t*.5);var o=n;o>>=1;var l=function(){this.perlin_octaves=4,this.perlin_amp_falloff=.5,this.perlin=null};return l.prototype={noiseSeed:function(n){var r=function(){var n,r,e=4294967296;return{setSeed:function(t){r=n=(null==t?Math.random()*e:t)>>>0},getSeed:function(){return n},rand:function(){return(r=(1664525*r+1013904223)%e)/e}}}();r.setSeed(n),this.perlin=new Array(4096);for(var e=0;e<4096;e++)this.perlin[e]=r.rand();return this},get:function(r,t,i){if(t=t||0,i=i||0,null==this.perlin){this.perlin=new Array(4096);for(var l=0;l<4096;l++)this.perlin[l]=Math.random()}r<0&&(r=-r),t<0&&(t=-t),i<0&&(i=-i);for(var f,a,s,h,p,u=Math.floor(r),d=Math.floor(t),c=Math.floor(i),v=r-u,M=t-d,y=i-c,m=0,_=.5,w=function(r){return.5*(1-e[Math.floor(r*o)%n])},A=0;A<this.perlin_octaves;A++){var S=u+(d<<4)+(c<<8);f=w(v),a=w(M),s=this.perlin[4095&S],s+=f*(this.perlin[S+1&4095]-s),h=this.perlin[S+16&4095],s+=a*((h+=f*(this.perlin[S+16+1&4095]-h))-s),h=this.perlin[4095&(S+=256)],h+=f*(this.perlin[S+1&4095]-h),p=this.perlin[S+16&4095],h+=a*((p+=f*(this.perlin[S+16+1&4095]-p))-h),m+=(s+=w(y)*(h-s))*_,_*=this.perlin_amp_falloff,u<<=1,d<<=1,c<<=1,(v*=2)>=1&&(u++,v--),(M*=2)>=1&&(d++,M--),(y*=2)>=1&&(c++,y--)}return m}},l}()});
