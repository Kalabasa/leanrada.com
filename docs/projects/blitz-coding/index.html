<html>
<head>
  <title>BlitzCoding</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="/favicon.png">
  <style>
    @font-face {
      font-family: "Space Mono";
      src: url("/fonts/SpaceMono-Regular.ttf") format("truetype");
    }

    @font-face {
      font-family: "Space Mono";
      font-style: italic;
      src: url("/fonts/SpaceMono-Italic.ttf") format("truetype");
    }

    @font-face {
      font-family: "Miriam Libre";
      src: url("/fonts/MiriamLibre-Regular.ttf") format("truetype");
    }

    @font-face {
      font-family: "Miriam Libre";
      font-weight: bold;
      src: url("/fonts/MiriamLibre-Bold.ttf") format("truetype");
    }

    :root {
      --default-font: "Space Mono", monaco, Consolas, Lucida Console, monospace;
      --reading-font: "Miriam Libre", Futura, "Trebuchet MS", Arial, sans-serif;

      --bg-clr: #111;
      --card-clr: #222;
      --clr0-light: #54f8c1;
      --clr0: #0ad591;
      --clr0-dark: #018b5d;
      --clr1: #df2063;

      --ease: cubic-bezier(0.8, 0, 1, 1);
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: var(--default-font, monospace);
      background-color: var(--bg-clr, #111);
      color: #fff;
      overflow-x: hidden;
    }

    a {
      color: var(--clr0-light, #fff);
    }

    a:visited {
      color: var(--clr0, #fff);
    }
  </style>
  <style>
    .home-link {
      text-decoration: none;
    }

    .home-link-icon {
      width: 48px;
      height: 48px;
      image-rendering: pixelated;
    }

    .home-link-icon:hover {
      filter: invert(1);
    }
  </style>
  <style>
    .main-footer {
      display: flex;
      justify-content: space-between;
      gap: 60px;
      padding: 60px calc(max(60px, 50vw - 600px)) 60px;
      font-size: 18px;
      font-weight: bold;
      background: var(--clr0);
      color: #000;
    }

    .main-footer-links-heading {
      margin: 0 0 18px;
      font-size: inherit;
    }

    .main-footer-line {
      margin: 0 0 18px;
    }

    .main-footer-nav,
    .main-footer-nav:visited {
      color: #000;
    }

    .main-footer-nav:hover {
      color: #fff;
    }

    @media (max-width: 700px) {
      .main-footer {
        flex-direction: column-reverse;
      }
    }
  </style>
  <style>
    .main-header {
      position: sticky;
      top: 0;
      width: 100%;
      height: 60px;
      padding: 0 calc(25% - 150px);
      z-index: 100;
      box-sizing: border-box;
    }

    .main-header.float {
      position: fixed;
    }

    .main-header-bar {
      position: relative;
      display: flex;
      justify-content: space-evenly;
      align-items: flex-end;
      height: 100%;
    }

    .main-header-item,
    .main-header-item:visited {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 6ch;
      height: 36px;
      padding: 0 18px;
      border-radius: 18px;
      font-size: 15px;
      font-weight: bold;
      letter-spacing: 1px;
      text-decoration: none;
      text-transform: uppercase;
      color: #fff;
      backdrop-filter: blur(8px);
      background-image: linear-gradient(60deg, #fff2 60%, transparent 60%);
      background-repeat: no-repeat;
      background-size: 220% 100%;
      background-position: 115%;
      transition: background-position 0.2s var(--ease);
    }

    .main-header-item:hover {
      background-image: linear-gradient(60deg,
          #fff2 50%,
          #fff 50%,
          #fff 60%,
          transparent 60%);
      background-position: 0%;
    }

    .main-header-item.select {
      background: #fff2;
    }

    .main-header-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      image-rendering: pixelated;
      filter: invert(1);
      backdrop-filter: blur(8px) invert(1);
    }

    .main-header-indicator {
      position: absolute;
      width: 6px;
      height: 6px;
      left: 50%;
      top: calc(100% + 12px);
      transform: translate(-50%, -50%);
      /* border acts as extended touch area */
      border: solid 6mm transparent;
      border-radius: 50%;
      background: #fff;
      background-clip: padding-box;
      opacity: 0;
      transition: opacity 50ms;
    }

    .main-header.hidden .main-header-indicator {
      opacity: 0.8;
    }
  </style>
  <style>
    .blog-page {
      display: flex;
      justify-content: center;
      overflow: hidden;
    }

    .content {
      padding: 60px 18px;
      width: 100%;
      max-width: 700px;
      font-family: var(--reading-font, sans-serif);
      font-size: 18px;
      line-height: 2.2;
      letter-spacing: 0.02em;
      color: #ddd;
      box-sizing: border-box;
    }

    .markdown h1,
    .markdown h2,
    .markdown h3,
    .markdown h4,
    .markdown h5,
    .markdown h6 {
      font-family: var(--default-font, monospace);
      font-weight: lighter;
      font-style: italic;
      line-height: 1.6;
      letter-spacing: 0.04em;
      margin: 36px 0;
    }

    .markdown h1 {
      text-align: center;
      font-size: 200%;
    }

    .markdown h2 {
      font-size: 150%;
    }

    .markdown h3,
    .markdown h4,
    .markdown h5,
    .markdown h6 {
      font-size: 120%;
    }

    .markdown p {
      margin: 36px 0;
    }

    .markdown hr {
      width: 36px;
      margin: 90px auto;
      border: solid 1.5px #ccc;
      background: #ccc;
      border-radius: 3px;
    }

    .markdown code {
      display: inline-block;
      padding: 0 6px;
      border-radius: 6px;
      font-family: var(--default-font, monospace);
      background: var(--card-clr);
    }

    .markdown pre code {
      display: block;
      padding: 18px;
      border-radius: 18px;
      line-height: 1.6;
      overflow-y: auto;
    }

    .markdown .center {
      text-align: center;
    }

    .markdown .center-flex {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    /* todo: convert to component <caption>, reuse across <blog-media> */
    .markdown .caption {
      display: block;
      font-size: 15px;
    }
  </style>
  <style>
    .project-info-card {
      font-family: var(--default-font);
      font-size: 15px;
      line-height: 1.6;
    }

    .project-info-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    .project-info-card-title {
      flex: 0 0 auto;
      align-self: stretch;
      position: relative;
      margin-right: 12px;
      padding: 12px 18px 6px 12px;
      border-radius: 18px 18px 0 0;
      font-style: italic;
      text-decoration: underline;
      background-color: var(--card-clr);
    }

    .project-info-card-title::after {
      content: "";
      position: absolute;
      left: 100%;
      bottom: 0;
      width: 36px;
      height: 18px;
      border-bottom-left-radius: 18px;
      box-shadow: -18px 0 0 var(--card-clr);
    }

    .project-info-card-fields {
      display: grid;
      grid-auto-flow: column;
      grid-template-rows: 1fr 1fr;
      padding: 12px;
      border-radius: 0 18px 18px 18px;
      background-color: var(--card-clr);
    }

    @media (max-width: 600px) {
      .project-info-card-fields {
        display: block;
      }
    }

    .project-info-card-field {
      display: flex;
    }

    .project-info-card-field-label {
      padding: 6px;
      font-style: italic;
    }

    .project-info-card-field-value {
      padding: 6px;
      font-weight: bold;
    }
  </style>
  <style>
    .btn,
    .btn:visited {
      padding: 6px 12px;
      border-radius: 12px;
      border: none;
      font-family: var(--default-font);
      font-size: 12px;
      font-weight: bold;
      text-decoration: none;
      background: var(--clr0);
      color: #fff;
      cursor: pointer;
    }

    .btn:hover {
      background: var(--clr0-light);
    }
  </style>
  <style>
    .blog-media {
      text-align: center;
      /* external margin because it's expected to be in an article */
      margin: 36px 0;
    }

    .blog-media-bleed {
      margin: 90px 0;
      max-height: 80vh;
    }

    .blog-media-element {
      display: inline-block;
      max-width: 100%;
      max-height: 80vh;
      border-radius: 18px;
    }

    .blog-media-bleed .blog-media-element {
      position: relative;
      left: 50%;
      max-width: max(min(100vw, 800px), 80vw);
      transform: translateX(-50%);
    }

    .blog-media-caption {
      display: block;
      font-size: 15px;
    }
  </style>
</head>


<body>

  <header class="main-header">
    <div class="main-header-bar">
      <a href="/" class="main-header-item ">Home</a>
      <img class="main-header-icon" src="/icons/tada.png">
      <a href="/projects/" class="main-header-item ">Works</a>
      <div class="main-header-indicator"></div>
    </div>
  </header>

  <div class="blog-page">
    <div class="content">

      <!-- prettier-ignore -->
      <div class="markdown">
        <h1 id="blitzcoding">BlitzCoding</h1>
        <div class="blog-media blog-media-bleed">
          <img srcset="/projects/blitz-coding/media/hero_350.generated.png 350w,/projects/blitz-coding/media/hero_700.generated.png 700w,/projects/blitz-coding/media/hero_1050.generated.png 1050w,/projects/blitz-coding/media/hero_1400.generated.png 1400w" sizes="(max-width:350px) 350px,(max-width:700px) 700px,(max-width:1050px) 1050px, 1400px" class="blog-media-element" alt="screenshot of BlitzCoding" src="/projects/blitz-coding/media/hero.png" spec="100% [1400) 1400">
        </div>

        <h2 id="fast-paced-javascript-coding-game">Fast-paced JavaScript coding game</h2>
        <p><strong>BlitzCoding</strong> is a fast-paced programming game for JavaScript that you can play on the web. Test your JS skills!</p>
        <aside class="project-info-card">
          <div class="project-info-card-header">
            <div class="project-info-card-title">Project details</div>
            <a target="_blank" class="btn " tag="a" href="https://leanrada.com/blitz-coding/">
              Play online
            </a>
          </div>
          <div class="project-info-card-fields">
            <div class="project-info-card-field">
              <div class="project-info-card-field-label">released</div>
              <div class="project-info-card-field-value">2021</div>
            </div>
            <div class="project-info-card-field">
              <div class="project-info-card-field-label">role</div>
              <div class="project-info-card-field-value">creator</div>
            </div>
            <div class="project-info-card-field">
              <div class="project-info-card-field-label">platform</div>
              <div class="project-info-card-field-value">Web</div>
            </div>
            <div class="project-info-card-field">
              <div class="project-info-card-field-label">tech</div>
              <div class="project-info-card-field-value">React, TypeScript</div>
            </div>
          </div>
        </aside>

        <div class="blog-media blog-media-bleed">
          <video class="blog-media-element" muted="" autoplay="" loop="" aria-label="even function" onloadstart="this.playbackRate = 1.5">
            <source src="/projects/blitz-coding/media/play.opt.mp4">
            <a href="/projects/blitz-coding/media/play.opt.mp4">even function</a>
          </video>
        </div>

        <p>In the game, you face a series of function stubs to implement, having only the function name as a hint and test cases as the spec. Within seconds you must write the function correctly and pass all the test cases.</p>
        <div class="blog-media blog-media-default">
          <img srcset="/projects/blitz-coding/media/factorial_350.generated.png 350w,/projects/blitz-coding/media/factorial_700.generated.png 700w" sizes="(max-width:350px) 350px, 700px" class="blog-media-element" alt="factorial challenge" src="/projects/blitz-coding/media/factorial.png" spec="100% [700) 700">
        </div>

        <p>The game features a lot of small to medium programming challenges, from simple math formulas to factorials, sequences, object mappings, and array reductions.</p>
        <div class="blog-media blog-media-default">
          <img srcset="/projects/blitz-coding/media/iseven_336.generated.png 336w,/projects/blitz-coding/media/iseven_672.generated.png 672w,/projects/blitz-coding/media/iseven_700.generated.png 700w" sizes="(max-width:336px) 336px,not (min-width:700px) 672px, 700px" class="blog-media-element" alt="even function" src="/projects/blitz-coding/media/iseven.png" spec="100% [700) 700">
        </div>

        <p>Random <strong>Modifiers</strong> are little game changers that impose certain restrictions on the round, such as disabling certain methods, banning operations, banning certain language constructs like loops.</p>
        <div class="blog-media blog-media-default">
          <img srcset="/projects/blitz-coding/media/banplus_202.generated.png 202w,/projects/blitz-coding/media/banplus_403.generated.png 403w" sizes="(max-width:202px) 202px, 403px" class="blog-media-element" alt="undefined" src="/projects/blitz-coding/media/banplus.png" spec="100% [1200) 80%"><span class="blog-media-caption">A modifier bannng the use of addition and subtraction</span>
        </div>

        <p>Imagine computing a sum but not being able to use the addition and subtraction operations.</p>
        <p>For the record, here's how I would compute a sum without using addition: I've come up with a tallying system, but it only works with positive numbers!</p>
        <div class="blog-media blog-media-default">
          <img srcset="/projects/blitz-coding/media/sumtally_350.generated.png 350w,/projects/blitz-coding/media/sumtally_700.generated.png 700w" sizes="(max-width:350px) 350px, 700px" class="blog-media-element" alt="sum tally" src="/projects/blitz-coding/media/sumtally.png" spec="100% [700) 700"><span class="blog-media-caption">Summation of positive numbers without using addition</span>
        </div>

        <p>I think a big part of the fun in this game was playing around the modifiers, coming up weird ways to solve a problem.</p>
        <p>There are four levels of difficulty, with the hardest one involving lots of modifiers, and sometimes, <em>emoji strings</em> 🆘. I mean, I wouldn't be able reverse a string with emojis myself, but it was funny to put those in anyway.</p>
        <div class="blog-media blog-media-default">
          <img srcset="/projects/blitz-coding/media/emoji_334.generated.png 334w,/projects/blitz-coding/media/emoji_668.generated.png 668w,/projects/blitz-coding/media/emoji_700.generated.png 700w" sizes="(max-width:334px) 334px,not (min-width:700px) 668px, 700px" class="blog-media-element" alt="emoji manipulation" src="/projects/blitz-coding/media/emoji.png" spec="100% [700) 700">
        </div>

        <p>It was an interesting project involving JavaScript parsing, JS "VM"s / sandboxes, meta unit testing, and silly JavaScript quirks.</p>
        <p>Try it out! (or just watch some gameplay clips)</p>
        <div class="blog-media blog-media-bleed">
          <video class="blog-media-element" muted="" autoplay="" loop="" aria-label="even function" onloadstart="this.playbackRate = 2">
            <source src="/projects/blitz-coding/media/play2.opt.mp4">
            <a href="/projects/blitz-coding/media/play2.opt.mp4">even function</a>
          </video><span class="blog-media-caption">More gameplay clips</span>
        </div>

      </div>

    </div>
  </div>

  <footer class="main-footer">
    <div>
      <p class="main-footer-line">
        <a target="_self" class="main-footer-nav" href="/">Home</a> ·
        <a target="_self" class="main-footer-nav" href="/projects/">Works</a>
      </p>
      <p class="main-footer-line">(C) 2023 Lean Rada</p>
    </div>
    <div>
      <h2 class="main-footer-links-heading">On the web</h2>
      <a target="_blank" class="home-link" href="https://www.linkedin.com/in/leanrada/">
        <img class="home-link-icon" src="/icons/linkedin.png">
      </a>
      <a target="_blank" class="home-link" href="https://codepen.io/kalabasa">
        <img class="home-link-icon" src="/icons/codepen.png">
      </a>
      <a target="_blank" class="home-link" href="https://stackoverflow.com/users/3144156/kalabasa">
        <img class="home-link-icon" src="/icons/stackoverflow.png">
      </a>
      <a target="_blank" class="home-link" href="https://github.com/Kalabasa">
        <img class="home-link-icon" src="/icons/github.png">
      </a>
    </div>
  </footer>
  <script>
    (() => {
      const mainHeader = document.querySelector(".main-header");

      let currentY = 0;
      let currentYTarget = 0;

      let mouseHovering = false;

      let lastScrollY = window.scrollY;
      let lastMouseY = 0;
      window.addEventListener("scroll", debounce(onScroll));
      window.addEventListener("mousemove", debounce(onMouseMove, 100));
      mainHeader.addEventListener("touchstart", onTouchStart);

      function onScroll(event) {
        const dy = window.scrollY - lastScrollY;

        // move with the page
        currentY -= dy;
        if (currentY > 0) {
          currentY = 0;
        } else if (currentY < -mainHeader.offsetHeight) {
          currentY = -mainHeader.offsetHeight;
        }

        currentYTarget = currentY;
        updateDOM();

        lastScrollY = window.scrollY;
      }

      function onMouseMove(event) {
        const dy = event.clientY - lastMouseY;

        // show when mouse goes near the top
        const scaledDy = Math.sign(dy) * Math.log1p(Math.abs(dy)) * 20;
        if (dy < 0 && event.clientY + scaledDy < mainHeader.offsetHeight) {
          currentYTarget = 0;
          mouseHovering = true;
        } else if (
          mouseHovering &&
          dy > 0 &&
          event.clientY > mainHeader.offsetHeight * 4
        ) {
          currentYTarget = Math.max(-window.scrollY, -mainHeader.offsetHeight);
          mouseHovering = false;
        }

        updateDOM();
        lastMouseY = event.clientY;
      }

      function onTouchStart(event) {
        currentYTarget = 0;
        updateDOM();
      }

      const updateDOM = debounce(() => {
        mainHeader.style.transform = `translateY(${currentY.toFixed(2)}px)`;

        const isHidden = currentY < -mainHeader.offsetHeight * 0.8;
        mainHeader.classList.toggle("hidden", isHidden);

        if (Math.abs(currentY - currentYTarget) > 1) {
          currentY += (currentYTarget - currentY) * 0.2;
          requestAnimationFrame(updateDOM);
        } else {
          currentY = currentYTarget;
        }
      });

      if (mainHeader.classList.contains("prehide")) {
        currentY = currentYTarget = -mainHeader.offsetHeight;
        updateDOM();
      }

      function debounce(fn, ms = 0) {
        let recentlyFired = false;
        return (...args) => {
          if (recentlyFired) return;
          recentlyFired = true;
          if (ms === 0) {
            requestAnimationFrame(() => (recentlyFired = false));
          } else {
            setTimeout(() => (recentlyFired = false), ms);
          }
          return fn(...args);
        };
      }
    })();
  </script>
</body>
</html>