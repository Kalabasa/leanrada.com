<html>
<head>

<title>Super Form</title>

<link href="style.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.0.min.js"></script>
<script>
	var iMaxCount = 5;

	var iVcdCount = 0;
	var iDvdCount = 0;

	var vcdList = [
		"The Lord of the Rings: The Fellowship of the Ring",
		"The Lord of the Rings: Two Towers",
		"The Lord of the Rings: Return of the King",
		"The Hobbit: An Unexpected Jorney",
		"The Dark Knight",
	];
	var dvdList = [
		"Despicable Me",
		"How to Train Your Dragon",
		"Megamind",
		"Toy Story 1",
		"Rise of the Guardians",
	];

	function onLoad(){
		addVCD();
		addDVD();
	}

	function addVCD(){
		if(iVcdCount == iMaxCount){
			alert("You cannot add any more. The maximum is " + iMaxCount);
			return;
		}
		addSelection("#vcdList", "vcd" + iVcdCount++, vcdList);
	}
	function addDVD(){
		if(iDvdCount == iMaxCount){
			alert("You cannot add any more. The maximum is " + iMaxCount);
			return;
		}
		addSelection("#dvdList", "dvd" + iDvdCount++, dvdList);
	}

	function addSelection(containerId, selectionName, namesArray){
		var container = document.querySelector(containerId);
		var select = document.createElement("select");
		select.name = selectionName;
		container.appendChild(select);
		for(var i=0; i<namesArray.length; i++){
			var option = document.createElement("option");
			var strName = namesArray[i];
			option.value = strName;
			option.innerHTML = strName;
			select.appendChild(option);
		}
		container.appendChild(document.createElement("br"));
		select.style.display = "none";
		$("select").slideDown(200);
	}
	
	function validate ( ) {
	  var valid = true;
	  var msg="Incomplete form:\n";
	  
	  // validate name
	  if ( document.form.name.value == "" ) {
		if (valid){
			document.form.name.focus();
		}
		document.form.name.style.border="solid 1px red";
		msg+="You need to fill the name field!\n";
		valid = false;
	  } else { document.form.name.style.border="solid 1px white"; }
	  
	  // validate address
	  if ( document.form.address.value == "" ) {
		if (valid){
			document.form.address.focus();
		}
		document.form.address.style.border="solid 1px red";
		msg+="You need to fill the address field!\n";
		valid = false;
	  } else { document.form.address.style.border="solid 1px white"; }
	  
	  // validate contact numbers
	  if ( document.form.contactNumbers.value == "" ) {
		if (valid) {
		  document.form.contactNumbers.focus();
		}
		document.form.contactNumbers.style.border="solid 1px red";
		msg+="You need to fill the contact numbers field!\n";
		valid = false;
	  } else { document.form.contactNumbers.style.border="solid 1px white"; }
	  
	  // validate email
	  if ( document.form.email.value == "" ) {
		if (valid) {
		  document.form.email.focus();
		}
		document.form.email.style.border="solid 1px red";
		msg+="You need to fill the email field!\n";
		valid = false;
	  } else { document.form.email.style.border="solid 1px white"; }
	  if (!valid) alert(msg);
	  return valid;
	}
</script>

</head>

<body onLoad = "onLoad()">
	<div class="box">
	<h2 align ="center">Super Rental System</h2>
	<form action = "submitted.php" method = "post" onsubmit = "return validate()" name = "form">
		<table border = "0" id = "center">
			<tr>
				<td>Customer Name:</td>
				<td><input class="textInput" type = "text" name = "name" size = 60></td>
			</tr>
			<tr>
				<td>Address:</td>
				<td><input class="textInput" type = "text" name = "address" size = 60></td>
			</tr>
			<tr>
				<td>Contact Numbers:</td>
				<td><input class="textInput" type = "text" name = "contactNumbers" size = 60></td>
			</tr>
			<tr>
				<td>Email Address:</td>
				<td><input class="textInput" type = "text" name = "email" size = 60></td>
			</tr>
		</table>
			
		<br />
		<br />
			
		<table id = "center">
			<tr>
				<td>VCDs (10php)</td>
				<td>DVDs (15php)</td>
			</tr>
			
			<tr>
				<td>
					<div id = "vcdList" />
				</td>
				<td>
					<div id = "dvdList" />
				</td>
			</tr>
			
			<tr>
				<td><input type = "button" onClick = "addVCD()" value = "Add another VCD?"></input></td>
				<td><input type = "button" onClick = "addDVD()" value = "Add another DVD?"</input></td>
			</tr>
			
			<tr>
				<td colspan = "2" class = "left">Discounts?</td>
			</tr>
			
			<tr>
				<td colspan = "2" class = "left"><input type = "checkbox" name = "promo" value = "yes" /> Promo</td>
			</tr>
			
			<tr>
				<td colspan = "2" class = "left"><input type = "checkbox" name = "discount" value = "yes" /> Discount Card</td>
			</tr>
			
			<tr>
				<td colspan = "2" class = "center"><input type = "submit" name = "form" value = "Submit" class = "center" /></td>
			</tr>
			
		</table>
			
	</form>
	</div>

</body>

</html>
