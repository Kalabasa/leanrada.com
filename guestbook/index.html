<!DOCTYPE html>
<html lang="en">
<head>
  <title>Guestbook ¬∑ leanrada.com</title>

  <script>
        window.GUESTBOOK_API="https://guestbook.leanrada.com/api";
        window.GUESTBOOK_CACHE=[{"text":"hi","name":"","stamps":[{"typeIndex":"8","x":"42","y":"30"},{"typeIndex":"2","x":"73","y":"32"}],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16764125,"fgRGB":11167232},{"text":"nice!","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"I like bouncy balls","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"\"Sort, sweep, and prune\" brought me here. nice work!\r\n","name":"Ana","stamps":[{"typeIndex":"3","x":"61","y":"4"},{"typeIndex":"3","x":"1","y":"58"},{"typeIndex":"3","x":"43","y":"51"}],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Nice","name":"D","stamps":[{"typeIndex":"4","x":"81","y":"-2"}],"fontIndex":2,"bgStyleIndex":0,"bgRGB":16777164,"fgRGB":13369344},{"text":"appreciated ","name":"","stamps":[{"typeIndex":"1","x":"36","y":"16"},{"typeIndex":"1","x":"58","y":"32"},{"typeIndex":"1","x":"12","y":"43"}],"fontIndex":2,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":13369344},{"text":"Just read part one of your sweep and prune article. Thanks for the concise explanation, the examples were really helpful with visualization. Excited to read the next part!","name":"Jamari","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Hi, I can read the entire article on my Feed reader, but if I try to open it with my browser (wanted to see the video of the motion sickness blog), the link takes me to a 404 not found page. Please fix. Ok. Thanks. Bye.","name":"segfault","stamps":[{"typeIndex":"2","x":"63","y":"63"}],"fontIndex":0,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":0},{"text":"Thoroughly enjoyed your article!","name":"Chembe","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"asdasd","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"cool site! ‚ù§Ô∏è","name":"cat","stamps":[],"fontIndex":2,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":13369344},{"text":"Checked out your post on collision algorithms today and got instantly hooked on your blog. It‚Äôs really inspiring‚Äîthank you! Hope you have a great day!","name":"Kendrick","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"you're a true inspiration, from the comfiest web dev i've seen on the small web to the insanely thoughtful keeb write ups. bitwise combos are 2 gud !!! Us finger independent musicians/typists gotta stick together","name":"eristocrates","stamps":[],"fontIndex":0,"bgStyleIndex":3,"bgRGB":16764125,"fgRGB":0},{"text":"Nice website & articles üëè","name":"Max","stamps":[{"typeIndex":"1","x":"1","y":"54"}],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Thanks for your explanation of collision detection algorithms and awesome interactive visualizations. It helps me a lot! <3","name":"Hash","stamps":[{"typeIndex":"6","x":"1","y":"59"}],"fontIndex":0,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":0},{"text":"GJ! üí™\r\n@vangogih","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"great!","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Awesome stuff! Good seeing how the written format still holds some advantages over the more popular video format nowadays. Interactive demonstrations ftw!","name":"Diego","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Very interesting and detailed article! Thanks and keep doing!","name":"optiklab","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"website is amazing!! You're incredibly talented and I can't wait to see more","name":"adarnael","stamps":[{"typeIndex":"5","x":"64","y":"29"}],"fontIndex":2,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":26367},{"text":"Interesting website, funny guy. Love your artworks, keep going.üê±‚Äçüíª","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"I like the 'Sort, sweep, and prune', and the interactive part is pretty great! ","name":"Jack Wu","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"cool!","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"i love your writing, i love your interactive demos, i love your great explanations. keep up the good work!","name":"parsley","stamps":[{"typeIndex":"2","x":"11","y":"57"}],"fontIndex":2,"bgStyleIndex":0,"bgRGB":14535935,"fgRGB":0},{"text":"this site loads fast on a 2G network, good job ","name":"anon","stamps":[],"fontIndex":2,"bgStyleIndex":2,"bgRGB":16777164,"fgRGB":11167232},{"text":"okay this was really cool, informative, and you made me laugh with how you wrote this up. keep up the good work!!","name":"console jockey case","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"this is so cool, i love guestbooks. i read up on collision detection and look forward to implementing it in my projects! thanks","name":"ben","stamps":[],"fontIndex":2,"bgStyleIndex":2,"bgRGB":14535935,"fgRGB":0},{"text":"super cool website","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":1,"bgRGB":16764125,"fgRGB":0},{"text":"had a blast reading about the simple collision algo, great work visualizing it üôå","name":"vladde","stamps":[],"fontIndex":1,"bgStyleIndex":1,"bgRGB":14548940,"fgRGB":0},{"text":"nice site ","name":"mtvare6","stamps":[],"fontIndex":1,"bgStyleIndex":3,"bgRGB":13434879,"fgRGB":0},{"text":"So those web developers can do something decent after all. About time, aye?\r\n\r\ncheerio!","name":"tru3 pr0gr4mm3r 1337","stamps":[{"typeIndex":"4","x":"60","y":"49"},{"typeIndex":"5","x":"75","y":"26"},{"typeIndex":"5","x":"22","y":"57"},{"typeIndex":"0","x":"3","y":"57"}],"fontIndex":2,"bgStyleIndex":3,"bgRGB":16764125,"fgRGB":0},{"text":"Congrats on the HN feature","name":"","stamps":[],"fontIndex":1,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":11167232},{"text":"Wait I should have signed it as","name":"DanTheGoodman","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Collision detection go brrrrr","name":"TangiaDan","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Love the visuals! Thank you for the effort you put into your posts. A joy to read.","name":"Byron","stamps":[],"fontIndex":1,"bgStyleIndex":3,"bgRGB":13434879,"fgRGB":0},{"text":"Fantastic work, esp. with those lovely animated/interactive illustrations, thanks!","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":0},{"text":"hi from hn","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"If I found this at age 15 it would have changed the course of my life!  Amazing blog and animations.  I love it","name":"soban.ski","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"I like reading math. Also I like well designed interactive stories. You made it :)","name":"Onur","stamps":[{"typeIndex":"4","x":"94","y":"-23"}],"fontIndex":2,"bgStyleIndex":3,"bgRGB":16777164,"fgRGB":0},{"text":"not bad","name":"A","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"Hi Lean,  I just want to thank you for HTMZ.  I've dabbled in html since the 1990's (\"since the last century\"!) but, even though I'm a programmer by education, I could never stomach thousands of lines of javascript - just lately even starting to fool around with CSS.  I'm a big fan of small/simple things that \"just work\" (like Tiny Core Linux) and HTMZ looks like such a thing.  Thanks.   Lee Muller, lee@lmulleer.net","name":"","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"lean ur the goat","name":"sid","stamps":[],"fontIndex":0,"bgStyleIndex":1,"bgRGB":13434879,"fgRGB":0},{"text":"Cool guestbook! xoxo","name":"M","stamps":[{"typeIndex":"1","x":"47","y":"30"},{"typeIndex":"1","x":"79","y":"4"}],"fontIndex":2,"bgStyleIndex":3,"bgRGB":16764125,"fgRGB":13369344},{"text":"I have no idea how I found it but your Lily58 layouts were a real help for me moving to a Corne, thank you!","name":"Liam","stamps":[{"typeIndex":"3","x":"58","y":"69"},{"typeIndex":"5","x":"4","y":"65"}],"fontIndex":2,"bgStyleIndex":2,"bgRGB":16777164,"fgRGB":26367},{"text":"–Ø –Ω–µ –ê–Ω–¥—Ä–µ–π","name":"","stamps":[{"typeIndex":"3","x":"51","y":"54"},{"typeIndex":"3","x":"61","y":"57"},{"typeIndex":"3","x":"78","y":"-4"},{"typeIndex":"3","x":"63","y":"25"}],"fontIndex":0,"bgStyleIndex":2,"bgRGB":16777164,"fgRGB":43520},{"text":"hell yeah","name":"dcdo","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},{"text":"hey lean - checking in : )","name":"j","stamps":[],"fontIndex":2,"bgStyleIndex":1,"bgRGB":16777164,"fgRGB":43520},{"text":"cool website and guestbook! :D","name":"linkhs","stamps":[{"typeIndex":"7","x":"43","y":"98"},{"typeIndex":"8","x":"77","y":"28"},{"typeIndex":"0","x":"2","y":"56"},{"typeIndex":"1","x":"65","y":"4"}],"fontIndex":0,"bgStyleIndex":2,"bgRGB":16777164,"fgRGB":11167232},{"text":"very nice website :) i like your lofi single!","name":"eva.town","stamps":[{"typeIndex":"0","x":"10","y":"70"},{"typeIndex":"1","x":"62","y":"57"},{"typeIndex":"2","x":"45","y":"44"},{"typeIndex":"3","x":"23","y":"35"}],"fontIndex":0,"bgStyleIndex":3,"bgRGB":16764125,"fgRGB":13369344},{"text":"Yo Lean hahaha amazing as always","name":"Aji","stamps":[],"fontIndex":0,"bgStyleIndex":0,"bgRGB":16777215,"fgRGB":0},];
      </script>
  <script async="" src="/lib/vendor/perlin-noise-3d.min.js"></script>
  <link rel="preload" href="/fonts/space/SpaceMono-Italic.ttf" as="font" type="font/ttf" crossorigin="">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="webmention" href="https://webmention.io/leanrada.com/webmention">
  <link rel="alternate" type="application/rss+xml" title="leanrada.com notes" href="/rss.xml">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="only dark">
  <meta charset="utf-8">
  <script async="" src="https://leanrada.com/analytics/analytics.js"></script>
  <style>
  .btn,
  .btn:visited {
    padding: 6px 12px;
    border-radius: 12px;
    border: none;
    font-family: var(--display-font);
    font-size: 12px;
    font-weight: bold;
    text-decoration: none;
    background: var(--clr0-dark);
    color: #fff;
    cursor: pointer;
  }
  .btn:not(:disabled):hover {
    background: var(--clr0);
  }
  .btn:not(:disabled):active {
    background: var(--clr0-dark);
  }
  .btn:disabled {
    color: #888;
    cursor: not-allowed;
  }
</style>
  <style>
  guestbook-card-client {
    position: relative;
    display: flex;
    flex-direction: column;
    box-shadow: 0 0 10px #0002;
    background: var(--gbc-background-image, none)
      var(--gbc-background-color, white);
    color: var(--gbc-color, black);
    text-shadow: 0 0 1px var(--gbc-color, black);
    font-family: var(--gbc-font, sans-serif);
    font-size: 1rem;
    font-weight: bold;
    padding: 1em;
    max-width: 100vw;
    width: 384px;
    height: 192px;
    box-sizing: border-box;
    border-radius: 3px;
    overflow: hidden;
    filter: contrast(0.8);
  }
  guestbook-card-client::after {
    content: "";
    position: absolute;
    inset: 0;
    background: url("/noise.png"); /* todo: encapsulate noise.png */
    opacity: 0.08;
    mix-blend-mode: hard-light;
    filter: blur(0.5px);
    pointer-events: none;
  }
  .guestbook-card-body {
    flex: 1 1 auto;
    resize: none;
  }
  .guestbook-card-name {
    flex: 0 1 auto;
    text-align: right;
  }
  .guestbook-card-body,
  .guestbook-card-name {
    background: none;
    border: none;
    font: inherit;
    color: inherit;
    text-shadow: inherit;
  }
  .guestbook-card-body::placeholder,
  .guestbook-card-name::placeholder {
    color: inherit;
    opacity: 0.4;
  }
  .guestbook-card-stamp-container {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
  }
  .guestbook-card-stamp {
    position: absolute;
    font-size: 60px;
    color: black;
    filter: grayscale(0.5) brightness(1.07) drop-shadow(0 1px 0 #0002);
    mix-blend-mode: multiply;
  }
</style>
  <style>
  .content-header {
    font-family: var(--default-font);
    margin: 90px 0 60px;
    padding: 0 18px;
  }
  @media (max-width: 600px) {
    .content-header {
      margin: 60px 0;
    }
  }

  .content-header-title {
    margin: 0 0 6px;
    font-family: var(--display-font);
    font-size: 27px;
    font-style: italic;
    font-weight: bold;
    text-align: center;
  }

  .content-header-subtitle {
    margin: 6px 0 0;
    font-size: 18px;
    font-style: italic;
    text-align: center;
    color: var(--text2-clr);
  }
</style>
  <style>
  @font-face {
    font-family: "Space Mono";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/space/SpaceMono-Regular.ttf") format("truetype");
  }

  @font-face {
    font-family: "Space Mono";
    font-display: swap;
    font-weight: normal;
    font-style: italic;
    src: url("/fonts/space/SpaceMono-Italic.ttf") format("truetype");
  }

  @font-face {
    font-family: "Iosevka";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/iosevka/iosevka-custom-regular.woff2") format("woff2");
  }

  @font-face {
    font-family: "Iosevka";
    font-display: swap;
    font-weight: normal;
    font-style: italic;
    src: url("/fonts/iosevka/iosevka-custom-italic.woff2") format("woff2");
  }

  @font-face {
    font-family: "Miriam Libre";
    font-display: swap;
    font-weight: normal;
    font-style: normal;
    src: url("/fonts/miriam/MiriamLibre-Regular.ttf") format("truetype");
  }

  :root {
    --default-font: "Iosevka", "Space Mono", monaco, Consolas, "Lucida Console",
      monospace;
    --display-font: "Space Mono", "Iosevka", monaco, Consolas, "Lucida Console",
      monospace;
    --reading-font: "Miriam Libre", Futura, "Trebuchet MS", Arial, sans-serif;

    --bg-clr: #111616;
    --card-clr: #222c2c;
    --clr0-light: #54f8c1;
    --clr0: #0ad591;
    --clr0-dark: #05b97d;
    --clr1: #df2063;

    --text-clr: #fff;
    --text2-clr: #999;

    --ease: cubic-bezier(0.8, 0, 1, 1);
  }

  body {
    margin: 0;
    min-height: 100vh;
    font-family: var(--default-font, monospace);
    font-size: 15px;
    font-display: swap;
    font-variant-ligatures: none;
    background-color: var(--bg-clr, #111);
    color: var(--text-clr, #fff);
    overflow-x: hidden;
  }
  .page-wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  .page-wrapper-content {
    flex: 1 1 auto;
  }
</style>
  <style>
  nebula-client {
    position: relative;
  }
  nebula-client > canvas {
    width: 100%;
    height: 100%;
  }
  .nebula-noise {
    position: absolute;
    inset: 0;
    background: url("/noise.png"); /* todo: encapsulate noise.png */
    opacity: 0.1;
    animation: nebula-noise-x 0.16s steps(2, jump-start) infinite,
      nebula-noise-y 0.48s steps(3, jump-start) infinite;
  }
  @supports (mix-blend-mode: overlay) {
    .nebula-noise {
      mix-blend-mode: overlay;
      opacity: 0.2;
    }
  }
  @keyframes nebula-noise-x {
    to {
      background-position-x: 100px;
    }
  }
  @keyframes nebula-noise-y {
    to {
      background-position-y: 100px;
    }
  }
</style>
  <style>
  .main-footer-web-link {
    text-decoration: none;
  }

  .main-footer-web-link-icon {
    width: 32px;
    height: 32px;
    image-rendering: pixelated;
  }
  .main-footer-web-link-icon:hover {
    filter: invert(1);
  }
</style>
  <style>
  .main-footer {
    position: relative;
    display: flex;
    justify-content: space-between;
    gap: 60px;
    padding: 42px calc(max(36px, 50vw - 600px));
    font-family: var(--display-font);
    font-size: 15px;
    font-weight: bold;
    background: var(--clr0);
    color: #000;
    overflow: hidden;
    content-visibility: auto;
    contain-intrinsic-height: 200px;
  }

  .main-footer-links-heading {
    margin: 18px 0;
    font-size: inherit;
  }

  .main-footer-line {
    margin: 12px 0;
  }

  .main-footer-link {
    color: #000;
  }
  .main-footer-link:hover {
    color: #000;
  }

  .main-footer-webring-icon {
    width: 16px;
    height: 16px;
    image-rendering: pixelated;
  }

  .main-footer-signature {
    width: 64px;
    height: 64px;
    image-rendering: pixelated;
    vertical-align: top;
  }

  .main-footer-content-part {
    z-index: 1;
  }

  .main-footer-nebula {
    position: absolute;
    left: -30%;
    top: -30%;
    width: 160%;
    height: 160%;
    z-index: 0;
  }

  .main-footer-top-btn {
    display: block;
    z-index: 2;
    position: absolute;
    right: 0;
    top: 0;
    width: 72px;
    height: 36px;
    padding-right: 9px;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    border: none;
    border-bottom-left-radius: 18px;
    background: var(--bg-clr);
    text-decoration: none;
    color: var(--clr0-light);
    font: inherit;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
  }
  .main-footer-top-btn:hover {
    color: var(--clr1);
  }
  .main-footer-top-btn::before {
    content: "";
    position: absolute;
    right: 0;
    top: 0;
    width: 36px;
    height: 18px;
    border-top-right-radius: 18px;
    transform: translateX(-72px);
    box-shadow: 18px 0 0 var(--bg-clr);
  }

  @media (max-width: 700px) {
    .main-footer {
      flex-direction: column-reverse;
    }
  }
</style>
  <style>
  .main-header {
    position: sticky;
    top: 0;
    width: 100%;
    height: 60px;
    padding: 0 calc(25% - 150px);
    z-index: 100;
    box-sizing: border-box;
    pointer-events: none;
  }
  .main-header.float {
    position: fixed;
  }

  .main-header-bar {
    position: relative;
    display: flex;
    justify-content: space-evenly;
    align-items: flex-end;
    height: 100%;
  }

  .main-header-item {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 6ch;
    height: 36px;
    padding: 0 18px;
    padding: 0 calc(min(18px,  -18px + 8vw));
    border-radius: 18px;
    font-family: var(--display-font);
    font-size: 12px;
    font-weight: bold;
    letter-spacing: 1px;
    text-decoration: none;
    text-transform: uppercase;
    color: #fff;
    backdrop-filter: blur(8px);
    background-color: #2222;
    background-image: linear-gradient(60deg, #9994 60%, transparent 60%);
    background-repeat: no-repeat;
    background-size: 220% 100%;
    background-position: 117%;
    pointer-events: all;
    transition: background-color 0.2s var(--ease),
      background-position 0.2s var(--ease);
  }
  .main-header-item:hover {
    background-image: linear-gradient(
      60deg,
      #9994 50%,
      #fff 50%,
      #fff 60%,
      transparent 60%
    );
    background-position: 0%;
  }
  .main-header-item.select {
    background: #9994;
  }

  .main-header-icon {
    width: 48px;
    height: 48px;
    border-radius: 25%;
    image-rendering: pixelated;
    object-fit: cover;
    filter: invert(1);
    backdrop-filter: blur(8px) invert(1);
    pointer-events: all;
  }
  .main-header-icon-yay {
    border-radius: 50%;
    object-position: 0 0;
  }
  .main-header-icon-yay:hover {
    object-position: 100% 0;
  }

  @media (max-width: 600px) {
    .main-header {
      height: 90px;
      padding-top: 6px;
    }
    .main-header-bar {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      justify-items: center;
      row-gap: 6px;
    }
    .main-header-icon {
      display: none;
    }
  }

  .main-header-indicator {
    position: absolute;
    width: 6px;
    height: 6px;
    left: 50%;
    top: calc(100% + 12px);
    transform: translate(-50%, -50%);
    /* border acts as extended touch area */
    border: solid 6mm transparent;
    border-left-width: 45vw;
    border-right-width: 45vw;
    border-radius: 50%;
    background: #fff;
    background-clip: padding-box;
    opacity: 0;
    transition: opacity 50ms;
  }
  .main-header.hidden .main-header-indicator {
    opacity: 0.4;
    pointer-events: all;
  }
</style>
  <style>
  .intro,
  .form {
    margin: 18px auto;
    max-width: 384px;
    box-sizing: border-box;
  }
  .button-row {
    display: flex;
    margin-top: 12px;
    gap: 12px;
    flex-wrap: wrap;
  }
  .style-button {
    position: relative;
    width: 30px;
    overflow: hidden;
    color: transparent;
    background: var(--card-clr);
  }
  .style-button::after {
    position: absolute;
    inset: 6px;
    content: "";
  }
  #bgStyleBtn::after {
    background: var(--gbc-background-image, none) #fff;
    inset: -25%;
    border-radius: 18px;
    filter: brightness(0.5) contrast(8) brightness(2);
    transform: scale(0.5);
  }
  #fgBtn::after {
    content: "A";
    font-size: 18px;
    line-height: 18px;
    color: var(--gbc-color, black);
    text-shadow: -1px -2px 0 white, 1px -2px 0 white, -2px 0 0 white,
      2px 0 0 white, -2px 1px 0 white, 2px 1px 0 white, -2px 2px 0 white,
      2px 2px 0 white, 0 2px 0 white;
  }
  #bgBtn::after {
    background: var(--gbc-background-color, white);
    border-radius: 50%;
    box-shadow: 0 0 0 2px white;
  }
  #fontBtn::after {
    content: "f";
    font-family: var(--gbc-font, sans-serif);
    font-weight: bold;
    font-size: 21px;
    line-height: 21px;
    color: white;
  }
  #stampBtn {
    padding: 0;
    color: unset;
  }
  .submit-button {
    margin-left: auto;
  }
  .messages-section {
    min-height: 200vh;
    min-height: 200svh;
    animation: messages-fade-in 0.6s;
  }
  .messages-section.loading {
    visibility: hidden;
  }
  .messages-list {
    padding: 120px 40px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    overflow: clip;
    transform: skewY(12deg);
  }
  .messages-list > * {
    margin: calc(max(0px, var(--gbli-margin-y, 0) * 1vmin - 80px))
      calc(max(0px, var(--gbli-margin-x, 0) * 1vmin - 80px))
      calc(max(0px, var(--gbli-margin-y, 0) * -1vmin - 80px));
    transform: skewY(-12deg) rotate(var(--gbli-rotate, 0deg));
    animation: message-scroll 1ms cubic-bezier(0, 0.8, 0.2, 1) both;
    animation-timeline: view(block 40% -5%);
  }
  .messages-list > :first-child {
    margin-inline-start: calc(max(0px, 50% - 384px));
  }
  .messages-list > :last-child {
    margin-inline-end: calc(max(0px, 50% - 384px));
  }

  @keyframes messages-fade-in {
    from {
      opacity: 0;
    }
  }

  @keyframes message-scroll {
    from {
      transform: skewY(-12deg) rotate(calc(var(--gbli-rotate, 0deg) * 5))
        translateY(100%);
    }
    to {
      /* same as original value */
      transform: skewY(-12deg) rotate(var(--gbli-rotate, 0deg));
    }
  }

  .messages-list > :nth-child(3n) {
    --gbli-rotate: 3deg;
  }
  .messages-list > :nth-child(3n + 1) {
    --gbli-rotate: -3deg;
  }
  .messages-list > :nth-child(3n + 2) {
    --gbli-rotate: 2deg;
  }
  .messages-list > :nth-child(4n) {
    --gbli-rotate: -2deg;
  }
  .messages-list > :nth-child(5n) {
    --gbli-rotate: 1deg;
  }
  .messages-list > :nth-child(6n) {
    --gbli-rotate: 2deg;
  }
  .messages-list > :nth-child(7n) {
    --gbli-rotate: -1deg;
  }
  .messages-list > :nth-child(8n) {
    --gbli-rotate: -2deg;
  }
  .messages-list > :nth-child(2n) {
    --gbli-margin-y: 3;
  }
  .messages-list > :nth-child(3n) {
    --gbli-margin-y: -4;
  }
  .messages-list > :nth-child(5n + 2) {
    --gbli-margin-y: 6;
  }
  .messages-list > :nth-child(5n + 4) {
    --gbli-margin-y: -7;
  }
  .messages-list > :nth-child(2n + 1) {
    --gbli-margin-x: 3;
  }
  .messages-list > :nth-child(3n) {
    --gbli-margin-x: 6;
  }
  .messages-list > :nth-child(4n + 2) {
    --gbli-margin-x: 7;
  }
  .messages-list > :nth-child(5n) {
    --gbli-margin-x: 9;
  }
  .messages-list > :nth-child(6n + 3) {
    --gbli-margin-x: 11;
  }
  .messages-list > :nth-child(7n) {
    --gbli-margin-x: 12;
  }
  .messages-list > :nth-child(8n + 6) {
    --gbli-margin-x: 16;
  }
  .messages-list > :nth-child(9n) {
    --gbli-margin-x: 22;
  }
</style>
  <script async="" src="/scripts/cursor.js"></script>
</head>



<body>

  <span hidden="" class="p-name">Guestbook</span>

  <div class="page-wrapper">
    <header class="main-header">
      <div class="main-header-bar">
        <a href="/" class="main-header-item ">Home</a>
        <a href="/notes/" class="main-header-item ">Notes</a>
        <a href="/about/" class="main-header-item ">About</a>
        <img class="main-header-icon main-header-icon-yay" src="/icons/yay_sheet.png" alt="">
        <a href="/wares/" class="main-header-item ">Wares</a>
        <a href="/art/" class="main-header-item ">Art</a>
        <a href="/music/" class="main-header-item ">Music</a>
        <div class="main-header-indicator"></div>
      </div>
    </header>
    <div class="page-wrapper-content">

      <div class="content-header">
        <h1 class="content-header-title p-name">Guestbook</h1>

      </div>

      <p class="intro">Thanks for visiting the site. Leave a card below! :)</p>

      <form class="form" method="post" action="https://guestbook.leanrada.com/api">
        <input name="schemaVersion" type="hidden" value="v2">
        <input name="fontIndex" type="hidden" value="0">
        <input name="bgStyleIndex" type="hidden" value="0">
        <input name="bgRGB" type="hidden" value="16777215">
        <input name="fgRGB" type="hidden" value="0">
        <guestbook-card-client id="guestbook-card" style="--gbc-font:'Helvetica', 'Arial', sans-serif;--gbc-background-image:none;--gbc-background-color:#ffffff;--gbc-color:#000000">
        </guestbook-card-client>
        <div class="button-row">
          <button class="btn style-button" id="bgStyleBtn" type="button">
            Style
          </button>
          <button class="btn style-button" id="bgBtn" type="button">
            Background
          </button>
          <button class="btn style-button" id="fgBtn" type="button">
            Foreground
          </button>
          <button class="btn style-button" id="fontBtn" type="button">
            Font
          </button>
          <button class="btn style-button" id="stampBtn" type="button">
            Stamp
          </button>
          <button class="btn submit-button" id="submitBtn" type="submit">
            Send
          </button>
        </div>
      </form>

      <div class="messages-section">
        <div class="messages-list"></div>
      </div>

    </div>
    <footer class="main-footer">
      <div class="main-footer-content-part">
        <p class="main-footer-line">
          <a target="_self" class="main-footer-link" href="/">Home</a> ¬∑
          <a target="_self" class="main-footer-link" href="/notes/">Notes</a> ¬∑
          <a target="_self" class="main-footer-link" href="/about/">About</a> ¬∑
          <a target="_self" class="main-footer-link" href="/wares/">Software</a> ¬∑
          <a target="_self" class="main-footer-link" href="/art/">Art</a> ¬∑
          <a target="_self" class="main-footer-link" href="/music/">Music</a>
        </p>
        <p class="main-footer-line">
          <img class="main-footer-signature" alt="" src="/icons/laptop_user.png" loading="lazy">
          <span style="display: inline-block">
            ¬∑
            <a target="_self" class="main-footer-link" href="/guestbook/">Sign the guestbook!</a>
            <br>
            ¬∑ Drop a
            <a target="_blank" class="main-footer-link" href="mailto:mail%40leanrada.com">
              mailÔº†leanrada¬∑com
            </a>
            <br>
          </span>
        </p>
        <p class="main-footer-line main-footer-best-viewed">
          This site is best viewed with a cup of hot chocolate.
        </p>
        <p class="main-footer-line">
          (C) 2015-2024 Lean Rada.
          <a target="_blank" class="main-footer-link" href="https://github.com/Kalabasa/kalabasa.github.io">
            Source</a>.
        </p>
      </div>
      <div class="main-footer-content-part">
        <h2 class="main-footer-links-heading">On the web</h2>
        <a target="_blank" class="main-footer-web-link" href="https://mastodon.social/@Kalabasa" rel="me">
          <img class="main-footer-web-link-icon" alt="Mastodon" src="/icons/mastodon.png" loading="lazy">
        </a>
        <a target="_blank" class="main-footer-web-link" href="https://codepen.io/kalabasa">
          <img class="main-footer-web-link-icon" alt="CodePen" src="/icons/codepen.png" loading="lazy">
        </a>
        <a target="_blank" class="main-footer-web-link" href="https://github.com/Kalabasa" rel="me">
          <img class="main-footer-web-link-icon" alt="GitHub" src="/icons/github.png" loading="lazy">
        </a>
        <h2 class="main-footer-links-heading">Webrings</h2>
        <p class="main-footer-line">
          <img class="main-footer-webring-icon" alt="" src="/icons/planet.png" loading="lazy">
          <a target="_blank" class="main-footer-link" href="http://geekring.net/">geekring.net</a>
          [<a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/previous" aria-label="Previous site">‚Üê</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/random" aria-label="Random site">‚Åô</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/next" aria-label="Next site">‚Üí</a>
          <a target="_blank" class="main-footer-link" href="http://geekring.net/site/288/frameset" aria-label="Frameset browsing">‚ñ£</a>]
        </p>
        <p class="main-footer-line">
          <img class="main-footer-webring-icon" alt="" src="/icons/planet.png" loading="lazy">
          <a target="_blank" class="main-footer-link" href="https://cs.sjoy.lol/">CSS JOY</a>
          [<a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/previous?via=https%3A%2F%2Fleanrada.com" aria-label="Previous site">‚Üê</a>
          <a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/random?via=https%3A%2F%2Fleanrada.com" aria-label="Random site">‚Åô</a>
          <a target="_blank" class="main-footer-link" href="https://webri.ng/webring/cssjoy/next?via=https%3A%2F%2Fleanrada.com" aria-label="Next site">‚Üí</a>]
        </p>
      </div>
      <nebula-client class="main-footer-nebula" palette="#0ad591 #ff2b75 #ffb833 #0ad591 #0ad591 #4d4aff #0ad591" width="40" height="10">
        <canvas style="filter: contrast(1.5)"></canvas>
        <div class="nebula-noise"></div>
      </nebula-client>
      <a class="main-footer-top-btn" href="#top" aria-label="Back to top">^</a>
    </footer>
  </div>






  <script async="" defer="" type="module" src="/scripts/guestbook-card.js"></script>
  <script type="module" async="" defer="" src="/scripts/nebula.js"></script>
  <script defer="" src="/scripts/main-footer-main-header.js"></script>
  <script async="" defer="">
  (() => {
    initForm();
    initMessagesList();

    async function initForm() {
      const { BG_COLORS, FG_COLORS, STAMPS, getCSS, getStampContent } =
        await loadGuestbookCardLib();
      const form = document.querySelector(".form");
      const { fgRGB, bgRGB, bgStyleIndex, fontIndex } = form.elements;
      const guestbookCard = document.getElementById("guestbook-card");
      const submitBtn = document.getElementById("submitBtn");
      const bgStyleBtn = document.getElementById("bgStyleBtn");
      const bgBtn = document.getElementById("bgBtn");
      const fgBtn = document.getElementById("fgBtn");
      const fontBtn = document.getElementById("fontBtn");
      const stampBtn = document.getElementById("stampBtn");

      form.addEventListener("submit", async (event) => {
        event.preventDefault();
        submitBtn.disabled = true;
        await fetch(form.action, {
          method: "post",
          body: new FormData(form),
        });
        setTimeout(() => location.reload(), 500);
      });

      fgBtn.addEventListener("click", async () => {
        fgRGB.value =
          FG_COLORS[
            (FG_COLORS.indexOf(Number(fgRGB.value)) + 1) % FG_COLORS.length
          ];
        const style = await guestbookCard.updateStyle({
          fgRGB: Number(fgRGB.value),
        });
        form.setAttribute("style", getCSS(style));
      });

      bgBtn.addEventListener("click", async () => {
        bgRGB.value =
          BG_COLORS[
            (BG_COLORS.indexOf(Number(bgRGB.value)) + 1) % BG_COLORS.length
          ];
        const style = await guestbookCard.updateStyle({
          bgRGB: Number(bgRGB.value),
        });
        form.setAttribute("style", getCSS(style));
      });

      bgStyleBtn.addEventListener("click", async () => {
        bgStyleIndex.value = (Number(bgStyleIndex.value) + 1) % 4;
        const style = await guestbookCard.updateStyle({
          bgStyleIndex: Number(bgStyleIndex.value),
        });
        form.setAttribute("style", getCSS(style));
      });

      fontBtn.addEventListener("click", async () => {
        fontIndex.value = (Number(fontIndex.value) + 1) % 3;
        const style = await guestbookCard.updateStyle({
          fontIndex: Number(fontIndex.value),
        });
        form.setAttribute("style", getCSS(style));
      });

      // Stamp logic
      let holdingStampState = null;
      let stampIndex = Math.floor(Math.random() * STAMPS.length);
      stampBtn.textContent = getStampContent(stampIndex);
      stampBtn.addEventListener("click", async () => {
        if (holdingStampState) {
          stampIndex = (Number(stampIndex) + 1) % STAMPS.length;
          stampBtn.textContent = getStampContent(stampIndex);
        } else {
          const cursorStyle = document.createElement("style");
          document.head.appendChild(cursorStyle);

          holdingStampState = {
            cursorStyle,
          };

          const listenerParameters = [
            "click",
            (event) => {
              if (stampBtn.contains(event.target)) return;

              const bounds = guestbookCard.getBoundingClientRect();
              if (
                event.clientX + size > bounds.left &&
                event.clientX < bounds.right &&
                event.clientY + size > bounds.top &&
                event.clientY < bounds.bottom
              ) {
                const x = Math.round(
                  (100 * (event.clientX - bounds.x)) / bounds.width
                );
                const y = Math.round(
                  (100 * (event.clientY - bounds.y)) / bounds.height
                );
                guestbookCard.addStamp(stampIndex, x, y);
              }

              setTimeout(() => cursorStyle.remove());
              holdingStampState = null;

              event.preventDefault();
              document.activeElement?.blur();
              window.removeEventListener(...listenerParameters);
            },
            { capture: true },
          ];
          window.addEventListener(...listenerParameters);
        }

        const content = getStampContent(stampIndex);
        const size = 60;
        holdingStampState.cursorStyle.textContent = `
            body, #guestbook-card * {
              cursor:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='${
                (size * 5) / 3
              }px' height='${
          size * 2
        }px' viewport='0 0 100 100' style='fill:black;font-size:${size}px;'><text y='50%'>${content}</text></svg>") 0 0,grabbing
            }`;
      });
    }

    async function initMessagesList() {
      const messagesSection = document.querySelector(".messages-section");
      const messagesList = document.querySelector(".messages-list");

      messagesSection.classList.add("loading");

      let currentPage = 0;
      let loadQueue = initFromCache()
        .then(() => loadPage(currentPage))
        .finally(() => void messagesSection.classList.remove("loading"));

      async function initFromCache() {
        const cache = window.GUESTBOOK_CACHE ?? null;
        if (cache?.length > 0) {
          for (const message of cache) {
            messagesList.appendChild(await renderMessage(message));
          }
        }
      }

      async function loadPage(page) {
        const response = await fetch(GUESTBOOK_API + "?page=" + page);
        if (!response.ok) throw new Error();
        const data = await response.json();
        if (!data || data.length === 0) return 0;
        if (page === 0) messagesList.replaceChildren();
        for (const message of data) {
          messagesList.appendChild(await renderMessage(message));
        }
      }

      async function renderMessage(message) {
        const { createGuestbookCard } = await loadGuestbookCardLib();
        return createGuestbookCard({
          text: message.text,
          name: message.name,
          stamps: message.stamps,
          style: {
            fontIndex: message.fontIndex,
            bgStyleIndex: message.bgStyleIndex,
            bgRGB: message.bgRGB,
            fgRGB: message.fgRGB,
          },
        });
      }
    }

    async function loadGuestbookCardLib() {
      return (loadGuestbookCardLib.result =
        loadGuestbookCardLib.result ??
        import("/guestbook/guestbook-card.js").then(
          () => window.GUESTBOOK_CARD
        ));
    }
  })();
</script>
</body>
</html>